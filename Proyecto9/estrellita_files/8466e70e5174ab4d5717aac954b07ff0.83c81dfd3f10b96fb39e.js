(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["8466e70e5174ab4d5717aac954b07ff0"],{sPtk:function(e,r,a){"use strict";a("pNMO");a("4Brf");a("ma9I");a("yq1k");a("4mDm");a("07d7");a("JTJg");a("3bBZ");Object.defineProperty(r,"__esModule",{value:true});r.calculateNextUrl=r.maybeAddAuthTransfer=r.nextUrlAfterFirstTimeLogin=r.buildRedirectUrlFromJoinedClasses=void 0;var m=a("MRvb");var u=t(a("Q8Wn"));var f=t(a("Ssu9"));function t(e){return e&&e.__esModule?e:{default:e}}var p=function e(r){switch(r.code){case"UNAUTHORIZED":return r.classroomName?"/coaches?restrictedClassName=".concat(r.classroomName):"";case"UDI_NOT_FOUND":return"/coaches?districtClassCode=".concat(r.signupCode);case"CLASSROOM_NOT_FOUND":return"/coaches?failedCode=".concat(r.signupCode);case"DISTRICT_SYNCED_CLASSROOM":return"/coaches?failedCode=".concat(r.signupCode);case"CANNOT_ADD_COACH":return"/coaches?failedCode=".concat(r.signupCode);default:r.code;return""}};var h=function e(r){if(r.errors){var a=true;var t=false;var n=undefined;try{for(var i=r.errors[Symbol.iterator](),o;!(a=(o=i.next()).done);a=true){var c=o.value;var s=p(c);if(s!==""){return s}}}catch(e){t=true;n=e}finally{try{if(!a&&i.return!=null){i.return()}}finally{if(t){throw n}}}}if(r.studentLists){var l=true;var u=false;var f=undefined;try{for(var d=r.studentLists[Symbol.iterator](),v;!(l=(v=d.next()).done);l=true){var C=v.value;if(C.id){return"/?joinedClassCode="+C.signupCode}}}catch(e){u=true;f=e}finally{try{if(!l&&d.return!=null){d.return()}}finally{if(u){throw f}}}}return"/coaches"};r.buildRedirectUrlFromJoinedClasses=h;function n(e,r){if(!r){return e}return"".concat(e,"?continue=").concat(encodeURIComponent(r))}var y=function e(r,a){var t=a.includes("parent");if(!t&&r.hasUnresolvedInvitations){return n("/parent",a)}return n(a)};r.nextUrlAfterFirstTimeLogin=y;var b=function e(r,a,t){var n=a.preferredKaLocale&&a.preferredKaLocale.kaLocale;var i=u.default.kaLocale;var o=f.default.parse(r.hostname);if(o.lang==="www"&&n&&n!==i){var c=(0,m.validateContinueUrl)(a.transferAuthUrl,t);if(c!==t){var s=(0,m.parseUrl)(c);var l=s.searchParams.has("continue");if(l){s.searchParams.set("continue",t)}return s.href}}return t};r.maybeAddAuthTransfer=b;var U=function e(r,a,t){if(t||r==="clever"||r==="clever_library"){return r==="clever_library"||a}return false};var i=function e(r){var a=r.location,t=r.userData,n=r.loginType,i=r.continueUrl,o=r.isFirstLogin,c=r.joinClassrooms,s=r.cleverLibrary,l=r.linkClever;var u="";var f=["apple","google","facebook"].includes(n)&&i==="/parent";if(c){i=h(c)}var d=U(n,s,l);if(d){if(i===""){i="/"}var v=i.includes("?")?"&":"?";i+=v+"fromCleverLibrary=1"}var C=(0,m.validateContinueUrl)(i,"/");if(f){C="/"}if(o){if(t.canAccessDistrictsHomepage){C="/districts"}else if(t.isTeacher){C="/coach/welcome"}u=y(t,C)}else{u=C}u=b(a,t,u);return u};r.calculateNextUrl=i}}]);
//# sourceMappingURL=../../sourcemaps/en/8466e70e5174ab4d5717aac954b07ff0.83c81dfd3f10b96fb39e.js.map