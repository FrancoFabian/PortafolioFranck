(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["deef5ba92f6d82168e4b25e14c915394"],{x2Mf:function(e,r,n){"use strict";n("pNMO");n("yXV3");n("+2oP");n("3KgV");n("5DmW");n("07d7");n("5s+n");Object.defineProperty(r,"__esModule",{value:true});r.loginWithPassword=r.PASSWORD_LOGIN_MUTATION=r.getErrorMessageByCode=void 0;n("ls82");var t=i(n("lTCR"));var l=n("4PhQ");var f=n("o1mU");var d=n("MVfM");var p=n("c+8j");var i18n=o(n("HEOz"));function o(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(t.get||t.set){Object.defineProperty(r,n,t)}else{r[n]=e[n]}}}}r.default=e;return r}}function i(e){return e&&e.__esModule?e:{default:e}}function g(e,r){if(e==null)return{};var n=a(e,r);var t,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++){t=i[o];if(r.indexOf(t)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,t))continue;n[t]=e[t]}}return n}function a(e,r){if(e==null)return{};var n={};var t=Object.keys(e);var o,i;for(i=0;i<t.length;i++){o=t[i];if(r.indexOf(o)>=0)continue;n[o]=e[o]}return n}function u(e,r,n,t,o,i,a){try{var s=e[i](a);var u=s.value}catch(e){n(e);return}if(s.done){r(u)}else{Promise.resolve(u).then(t,o)}}function s(s){return function(){var e=this,a=arguments;return new Promise(function(r,n){var t=s.apply(e,a);function o(e){u(t,r,n,o,i,"next",e)}function i(e){u(t,r,n,o,i,"throw",e)}o(undefined)})}}function c(){var r=h(['\n    mutation loginWithPasswordMutation(\n        $identifier: String!\n        $password: String!\n    ) {\n        loginWithPassword(identifier: $identifier, password: $password) {\n            user {\n                id\n                kaid\n                canAccessDistrictsHomepage\n                isTeacher\n                hasUnresolvedInvitations\n                transferAuthUrl(pathname: "")\n                preferredKaLocale {\n                    id\n                    kaLocale\n                }\n            }\n            isFirstLogin\n            error {\n                code\n            }\n        }\n    }\n']);c=function e(){return r};return r}function h(e,r){if(!r){r=e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var v=function e(r){switch(r){case"ALREADY_LOGGED_IN":return i18n._("Error al iniciar sesi\u00f3n. Por favor int\u00e9ntalo nuevamente.");case"NON_UNIQUE_USERNAME":return i18n._("\u00a1Ups! No podemos iniciar sesi\u00f3n con ese nombre de usuario. Por favor, inicia sesi\u00f3n con tu direcci\u00f3n de correo electr\u00f3nico y luego cambia tu nombre de usuario para solucionar este problema. Si no tienes una direcci\u00f3n de correo electr\u00f3nico, por favor escr\u00edbenos a trav\u00e9s de nuestro Centro de ayuda.");case"INVALID_CREDENTIALS":return i18n._("Tu nombre de usuario o contrase\u00f1a son incorrectos.");case"TOO_MANY_REQUESTS":return i18n._("Lo sentimos, has hecho demasiadas solicitudes.");default:return i18n._("Error al iniciar sesi\u00f3n. Por favor int\u00e9ntalo nuevamente.")}};r.getErrorMessageByCode=v;var w=(0,t.default)(c());r.PASSWORD_LOGIN_MUTATION=w;var O=function(){var n=s(regeneratorRuntime.mark(function e(n){var t,o,i,a,s,u,c;return regeneratorRuntime.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:t=n.signupCodes,o=g(n,["signupCodes"]);r.prev=1;r.next=4;return(0,f.apolloMutate)(w,{variables:o});case 4:i=r.sent;if(!i.data.loginWithPassword.error){r.next=7;break}throw new l.KAError(i.data.loginWithPassword.error.code,l.Errors.Internal);case 7:a=i.data.loginWithPassword,s=a.user,u=a.isFirstLogin;c={user:s,isFirstLogin:u};if(!(t&&t.length)){r.next=13;break}r.next=12;return(0,d.joinClassroomsPostlogin)(t);case 12:c.joinClassrooms=r.sent;case 13:(0,p.setAnalyticsCookies)(u,s.kaid);return r.abrupt("return",c);case 17:r.prev=17;r.t0=r["catch"](1);if(!(r.t0 instanceof l.KAError)){r.next=21;break}throw r.t0;case 21:throw new l.KAError("Failed to login with password",l.Errors.Internal);case 22:case"end":return r.stop()}}},e,null,[[1,17]])}));return function e(r){return n.apply(this,arguments)}}();r.loginWithPassword=O}}]);
//# sourceMappingURL=../../sourcemaps/en/deef5ba92f6d82168e4b25e14c915394.0b98a6432741ec8efc07.js.map