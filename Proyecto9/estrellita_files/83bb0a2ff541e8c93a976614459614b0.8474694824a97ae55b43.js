(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["83bb0a2ff541e8c93a976614459614b0"],{VscY:function(e,o,t){(function(i){var n,a;
/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20140901
 */
/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20140901
 */
(function(ct,ht){"use strict";if(!ct||!ct.document){throw new Error("SoundManager requires a browser with window and document objects.")}var e=null;function t(e,t){this.setupOptions={url:e||null,flashVersion:8,debugMode:true,debugFlash:false,useConsole:true,consoleOnly:true,waitForWindowLoad:false,bgColor:"#ffffff",useHighPerformance:false,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:false,useHTML5Audio:true,html5Test:/^(probably|maybe)$/i,preferFlash:false,noSWFCache:false,idPrefix:"sound"};this.defaultOptions={autoLoad:false,autoPlay:false,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:true,multiShotEvents:false,position:null,pan:0,stream:true,to:null,type:null,usePolicyFile:false,volume:100};this.flash9Options={isMovieStar:null,usePeakData:false,useWaveformData:false,useEQData:false,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:true},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:false},ogg:{type:["audio/ogg; codecs=vorbis"],required:false},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:false},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:false}};this.movieID="sm2-container";this.id=t||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20140901";this.version=null;this.movieURL=null;this.altURL=null;this.swfLoaded=false;this.enabled=false;this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=false;this.didFlashBlock=false;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:false,peakData:false,waveformData:false,eqData:false,movieStar:false};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this.html5={usingFlash:null};this.flash={};this.html5Only=false;this.ignoreFlash=false;var r,v=this,y=null,w=null,l="soundManager",a=l+": ",o="HTML5::",b,O=navigator.userAgent,s=ct.location.href.toString(),D=document,i,n,M,L,u=[],f=true,T,P=false,S=false,d=false,c=false,h=false,F,p=0,m,I,g,k,C,H,A,E,R,x,U,N,B,j,W,q,V,$,Q,K,J,X,G,Y=["log","info","warn","error"],z=8,Z,ee,te,ie=null,ne=null,ae,oe,se,re,le,ue,fe,de,ce,he=false,pe=false,me,_e,ge,ye=0,we=null,ve,be=[],Oe,De=null,Me,Le,Te,Pe,Se,Fe,Ie,ke,Ce=Array.prototype.slice,He=false,Ae,Ee,Re,xe,Ue,Ne,Be,je,We=0,qe=O.match(/(ipad|iphone|ipod)/i),Ve=O.match(/android/i),$e=O.match(/msie/i),Qe=O.match(/webkit/i),Ke=O.match(/safari/i)&&!O.match(/chrome/i),Je=O.match(/opera/i),Xe=O.match(/(mobile|pre\/|xoom)/i)||qe||Ve,Ge=!s.match(/usehtml5audio/i)&&!s.match(/sm2\-ignorebadua/i)&&Ke&&!O.match(/silk/i)&&O.match(/OS X 10_6_([3-7])/i),Ye=ct.console!==ht&&console.log!==ht,ze=D.hasFocus!==ht?D.hasFocus():null,Ze=Ke&&(D.hasFocus===ht||!D.hasFocus()),et=!Ze,tt=/(mp3|mp4|mpa|m4a|m4b)/i,it=1e3,nt="about:blank",at="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",ot=D.location?D.location.protocol.match(/http/i):null,st=!ot?"http:/"+"/":"",rt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,lt=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ut=new RegExp("\\.("+lt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!ot;re={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"};this.hasHTML5=function(){try{return Audio!==ht&&(Je&&opera!==ht&&opera.version()<10?new Audio(null):new Audio).canPlayType!==ht}catch(e){return false}}();this.setup=function(e){var t=!v.url;if(e!==ht&&d&&De&&v.ok()&&(e.flashVersion!==ht||e.url!==ht||e.html5Test!==ht)){de(ae("setupLate"))}g(e);if(e){if(t&&$&&e.url!==ht){v.beginDelayedInit()}if(!$&&e.url!==ht&&D.readyState==="complete"){setTimeout(q,1)}}return v};this.ok=function(){return De?d&&!c:v.useHTML5Audio&&v.hasHTML5};this.supported=this.ok;this.getMovie=function(e){return b(e)||D[e]||ct[e]};this.createSound=function(e,t){var i,n,a,o=null;i=l+".createSound(): ";n=i+ae(!d?"notReady":"notOK");if(!d||!v.ok()){de(n);return false}if(t!==ht){e={id:e,url:t}}a=I(e);a.url=ve(a.url);if(a.id===undefined){a.id=v.setupOptions.idPrefix+We++}if(a.id.toString().charAt(0).match(/^[0-9]$/)){v._wD(i+ae("badID",a.id),2)}v._wD(i+a.id+(a.url?" ("+a.url+")":""),1);if(ce(a.id,true)){v._wD(i+a.id+" exists",1);return v.sounds[a.id]}function s(){a=ue(a);v.sounds[a.id]=new r(a);v.soundIDs.push(a.id);return v.sounds[a.id]}if(Le(a)){o=s();v._wD(a.id+": Using HTML5");o._setup_html5(a)}else{if(v.html5Only){v._wD(a.id+": No HTML5 support for this sound, and no Flash. Exiting.");return s()}if(v.html5.usingFlash&&a.url&&a.url.match(/data\:/i)){v._wD(a.id+": data: URIs not supported via Flash. Exiting.");return s()}if(L>8){if(a.isMovieStar===null){a.isMovieStar=!!(a.serverURL||(a.type?a.type.match(rt):false)||a.url&&a.url.match(ut))}if(a.isMovieStar){v._wD(i+"using MovieStar handling");if(a.loops>1){F("noNSLoop")}}}a=fe(a,i);o=s();if(L===8){w._createSound(a.id,a.loops||1,a.usePolicyFile)}else{w._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:false,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,true,a.autoLoad,a.usePolicyFile);if(!a.serverURL){o.connected=true;if(a.onconnect){a.onconnect.apply(o)}}}if(!a.serverURL&&(a.autoLoad||a.autoPlay)){o.load(a)}}if(!a.serverURL&&a.autoPlay){o.play()}return o};this.destroySound=function(e,t){if(!ce(e)){return false}var i=v.sounds[e],n;i._iO={};i.stop();i.unload();for(n=0;n<v.soundIDs.length;n++){if(v.soundIDs[n]===e){v.soundIDs.splice(n,1);break}}if(!t){i.destruct(true)}i=null;delete v.sounds[e];return true};this.load=function(e,t){if(!ce(e)){return false}return v.sounds[e].load(t)};this.unload=function(e){if(!ce(e)){return false}return v.sounds[e].unload()};this.onPosition=function(e,t,i,n){if(!ce(e)){return false}return v.sounds[e].onposition(t,i,n)};this.onposition=this.onPosition;this.clearOnPosition=function(e,t,i){if(!ce(e)){return false}return v.sounds[e].clearOnPosition(t,i)};this.play=function(e,t){var i=null,n=t&&!(t instanceof Object);if(!d||!v.ok()){de(l+".play(): "+ae(!d?"notReady":"notOK"));return false}if(!ce(e,n)){if(!n){return false}if(n){t={url:t}}if(t&&t.url){v._wD(l+'.play(): Attempting to create "'+e+'"',1);t.id=e;i=v.createSound(t).play()}}else if(n){t={url:t}}if(i===null){i=v.sounds[e].play(t)}return i};this.start=this.play;this.setPosition=function(e,t){if(!ce(e)){return false}return v.sounds[e].setPosition(t)};this.stop=function(e){if(!ce(e)){return false}v._wD(l+".stop("+e+")",1);return v.sounds[e].stop()};this.stopAll=function(){var e;v._wD(l+".stopAll()",1);for(e in v.sounds){if(v.sounds.hasOwnProperty(e)){v.sounds[e].stop()}}};this.pause=function(e){if(!ce(e)){return false}return v.sounds[e].pause()};this.pauseAll=function(){var e;for(e=v.soundIDs.length-1;e>=0;e--){v.sounds[v.soundIDs[e]].pause()}};this.resume=function(e){if(!ce(e)){return false}return v.sounds[e].resume()};this.resumeAll=function(){var e;for(e=v.soundIDs.length-1;e>=0;e--){v.sounds[v.soundIDs[e]].resume()}};this.togglePause=function(e){if(!ce(e)){return false}return v.sounds[e].togglePause()};this.setPan=function(e,t){if(!ce(e)){return false}return v.sounds[e].setPan(t)};this.setVolume=function(e,t){if(!ce(e)){return false}return v.sounds[e].setVolume(t)};this.mute=function(e){var t=0;if(e instanceof String){e=null}if(!e){v._wD(l+".mute(): Muting all sounds");for(t=v.soundIDs.length-1;t>=0;t--){v.sounds[v.soundIDs[t]].mute()}v.muted=true}else{if(!ce(e)){return false}v._wD(l+'.mute(): Muting "'+e+'"');return v.sounds[e].mute()}return true};this.muteAll=function(){v.mute()};this.unmute=function(e){var t;if(e instanceof String){e=null}if(!e){v._wD(l+".unmute(): Unmuting all sounds");for(t=v.soundIDs.length-1;t>=0;t--){v.sounds[v.soundIDs[t]].unmute()}v.muted=false}else{if(!ce(e)){return false}v._wD(l+'.unmute(): Unmuting "'+e+'"');return v.sounds[e].unmute()}return true};this.unmuteAll=function(){v.unmute()};this.toggleMute=function(e){if(!ce(e)){return false}return v.sounds[e].toggleMute()};this.getMemoryUse=function(){var e=0;if(w&&L!==8){e=parseInt(w._getMemoryUse(),10)}return e};this.disable=function(e){var t;if(e===ht){e=false}if(c){return false}c=true;F("shutdown",1);for(t=v.soundIDs.length-1;t>=0;t--){Z(v.sounds[v.soundIDs[t]])}m(e);ke.remove(ct,"load",A);return true};this.canPlayMIME=function(e){var t;if(v.hasHTML5){t=Te({type:e})}if(!t&&De){t=e&&v.ok()?!!((L>8?e.match(rt):null)||e.match(v.mimePattern)):null}return t};this.canPlayURL=function(e){var t;if(v.hasHTML5){t=Te({url:e})}if(!t&&De){t=e&&v.ok()?!!e.match(v.filePattern):null}return t};this.canPlayLink=function(e){if(e.type!==ht&&e.type){if(v.canPlayMIME(e.type)){return true}}return v.canPlayURL(e.href)};this.getSoundById=function(e,t){if(!e){return null}var i=v.sounds[e];if(!i&&!t){v._wD(l+'.getSoundById(): Sound "'+e+'" not found.',2)}return i};this.onready=function(e,t){var i="onready",n=false;if(typeof e==="function"){if(d){v._wD(ae("queue",i))}if(!t){t=ct}C(i,e,t);H();n=true}else{throw ae("needFunction",i)}return n};this.ontimeout=function(e,t){var i="ontimeout",n=false;if(typeof e==="function"){if(d){v._wD(ae("queue",i))}if(!t){t=ct}C(i,e,t);H({type:i});n=true}else{throw ae("needFunction",i)}return n};this._writeDebug=function(e,t){var i="soundmanager-debug",n,a;if(!v.debugMode){return false}if(Ye&&v.useConsole){if(t&&typeof t==="object"){console.log(e,t)}else if(Y[t]!==ht){console[Y[t]](e)}else{console.log(e)}if(v.consoleOnly){return true}}n=b(i);if(!n){return false}a=D.createElement("div");if(++p%2===0){a.className="sm2-alt"}if(t===ht){t=0}else{t=parseInt(t,10)}a.appendChild(D.createTextNode(e));if(t){if(t>=2){a.style.fontWeight="bold"}if(t===3){a.style.color="#ff3333"}}n.insertBefore(a,n.firstChild);n=null;return true};if(s.indexOf("sm2-debug=alert")!==-1){this._writeDebug=function(e){ct.alert(e)}}this._wD=this._writeDebug;this._debug=function(){var e,t;F("currentObj",1);for(e=0,t=v.soundIDs.length;e<t;e++){v.sounds[v.soundIDs[e]]._debug()}};this.reboot=function(e,t){if(v.soundIDs.length){v._wD("Destroying "+v.soundIDs.length+" SMSound object"+(v.soundIDs.length!==1?"s":"")+"...")}var i,n,a;for(i=v.soundIDs.length-1;i>=0;i--){v.sounds[v.soundIDs[i]].destruct()}if(w){try{if($e){ne=w.innerHTML}ie=w.parentNode.removeChild(w)}catch(e){F("badRemove",2)}}ne=ie=De=w=null;v.enabled=$=d=he=pe=P=S=c=He=v.swfLoaded=false;v.soundIDs=[];v.sounds={};We=0;if(!e){for(i in u){if(u.hasOwnProperty(i)){for(n=0,a=u[i].length;n<a;n++){u[i][n].fired=false}}}}else{u=[]}if(!t){v._wD(l+": Rebooting...")}v.html5={usingFlash:null};v.flash={};v.html5Only=false;v.ignoreFlash=false;ct.setTimeout(function(){W();if(!t){v.beginDelayedInit()}},20);return v};this.reset=function(){F("reset");return v.reboot(true,true)};this.getMoviePercent=function(){return w&&"PercentLoaded"in w?w.PercentLoaded():null};this.beginDelayedInit=function(){h=true;q();setTimeout(function(){if(pe){return false}K();j();pe=true;return true},20);E()};this.destruct=function(){v._wD(l+".destruct()");v.disable(true)};r=function(e){var d=this,o,s,t,n,c,h,p=false,a=[],r=0,l,m,u=null,f,g;f={duration:null,time:null};this.id=e.id;this.sID=this.id;this.url=e.url;this.options=I(e);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=false;this._a=null;g=this.url?false:true;this.id3={};this._debug=function(){v._wD(d.id+": Merged options:",d.options)};this.load=function(e){var t=null,i;if(e!==ht){d._iO=I(e,d.options)}else{e=d.options;d._iO=e;if(u&&u!==d.url){F("manURL");d._iO.url=d.url;d.url=null}}if(!d._iO.url){d._iO.url=d.url}d._iO.url=ve(d._iO.url);d.instanceOptions=d._iO;i=d._iO;v._wD(d.id+": load ("+i.url+")");if(!i.url&&!d.url){v._wD(d.id+": load(): url is unassigned. Exiting.",2);return d}if(!d.isHTML5&&L===8&&!d.url&&!i.autoPlay){v._wD(d.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1)}if(i.url===d.url&&d.readyState!==0&&d.readyState!==2){F("onURL",1);if(d.readyState===3&&i.onload){je(d,function(){i.onload.apply(d,[!!d.duration])})}return d}d.loaded=false;d.readyState=1;d.playState=0;d.id3={};if(Le(i)){t=d._setup_html5(i);if(!t._called_load){d._html5_canplay=false;if(d.url!==i.url){v._wD(F("manURL")+": "+i.url);d._a.src=i.url;d.setPosition(0)}d._a.autobuffer="auto";d._a.preload="auto";d._a._called_load=true}else{v._wD(d.id+": Ignoring request to load again")}}else{if(v.html5Only){v._wD(d.id+": No flash support. Exiting.");return d}if(d._iO.url&&d._iO.url.match(/data\:/i)){v._wD(d.id+": data: URIs not supported via Flash. Exiting.");return d}try{d.isHTML5=false;d._iO=fe(ue(i));if(d._iO.autoPlay&&(d._iO.position||d._iO.from)){v._wD(d.id+": Disabling autoPlay because of non-zero offset case");d._iO.autoPlay=false}i=d._iO;if(L===8){w._load(d.id,i.url,i.stream,i.autoPlay,i.usePolicyFile)}else{w._load(d.id,i.url,!!i.stream,!!i.autoPlay,i.loops||1,!!i.autoLoad,i.usePolicyFile)}}catch(e){F("smError",2);T("onload",false);J({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:true})}}d.url=i.url;return d};this.unload=function(){if(d.readyState!==0){v._wD(d.id+": unload()");if(!d.isHTML5){if(L===8){w._unload(d.id,nt)}else{w._unload(d.id)}}else{n();if(d._a){d._a.pause();u=Se(d._a)}}o()}return d};this.destruct=function(e){v._wD(d.id+": Destruct");if(!d.isHTML5){d._iO.onfailure=null;w._destroySound(d.id)}else{n();if(d._a){d._a.pause();Se(d._a);if(!He){t()}d._a._s=null;d._a=null}}if(!e){v.destroySound(d.id,true)}};this.play=function(e,t){var i,n,a,o,s,r,l,u=true,f=null;i=d.id+": play(): ";t=t===ht?true:t;if(!e){e={}}if(d.url){d._iO.url=d.url}d._iO=I(d._iO,d.options);d._iO=I(e,d._iO);d._iO.url=ve(d._iO.url);d.instanceOptions=d._iO;if(!d.isHTML5&&d._iO.serverURL&&!d.connected){if(!d.getAutoPlay()){v._wD(i+" Netstream not connected yet - setting autoPlay");d.setAutoPlay(true)}return d}if(Le(d._iO)){d._setup_html5(d._iO);c()}if(d.playState===1&&!d.paused){n=d._iO.multiShot;if(!n){v._wD(i+"Already playing (one-shot)",1);if(d.isHTML5){d.setPosition(d._iO.position)}f=d}else{v._wD(i+"Already playing (multi-shot)",1)}}if(f!==null){return f}if(e.url&&e.url!==d.url){if(!d.readyState&&!d.isHTML5&&L===8&&g){g=false}else{d.load(d._iO)}}if(!d.loaded){if(d.readyState===0){v._wD(i+"Attempting to load");if(!d.isHTML5&&!v.html5Only){d._iO.autoPlay=true;d.load(d._iO)}else if(d.isHTML5){d.load(d._iO)}else{v._wD(i+"Unsupported type. Exiting.");f=d}d.instanceOptions=d._iO}else if(d.readyState===2){v._wD(i+"Could not load - exiting",2);f=d}else{v._wD(i+"Loading - attempting to play...")}}else{v._wD(i.substr(0,i.lastIndexOf(":")))}if(f!==null){return f}if(!d.isHTML5&&L===9&&d.position>0&&d.position===d.duration){v._wD(i+"Sound at end, resetting to position:0");e.position=0}if(d.paused&&d.position>=0&&(!d._iO.serverURL||d.position>0)){v._wD(i+"Resuming from paused state",1);d.resume()}else{d._iO=I(e,d._iO);if((!d.isHTML5&&d._iO.position!==null&&d._iO.position>0||d._iO.from!==null&&d._iO.from>0||d._iO.to!==null)&&d.instanceCount===0&&d.playState===0&&!d._iO.serverURL){o=function(){d._iO=I(e,d._iO);d.play(d._iO)};if(d.isHTML5&&!d._html5_canplay){v._wD(i+"Beginning load for non-zero offset case");d.load({_oncanplay:o});f=false}else if(!d.isHTML5&&!d.loaded&&(!d.readyState||d.readyState!==2)){v._wD(i+"Preloading for non-zero offset case");d.load({onload:o});f=false}if(f!==null){return f}d._iO=m()}if(!d.instanceCount||d._iO.multiShotEvents||d.isHTML5&&d._iO.multiShot&&!He||!d.isHTML5&&L>8&&!d.getAutoPlay()){d.instanceCount++}if(d._iO.onposition&&d.playState===0){h(d)}d.playState=1;d.paused=false;d.position=d._iO.position!==ht&&!isNaN(d._iO.position)?d._iO.position:0;if(!d.isHTML5){d._iO=fe(ue(d._iO))}if(d._iO.onplay&&t){d._iO.onplay.apply(d);p=true}d.setVolume(d._iO.volume,true);d.setPan(d._iO.pan,true);if(!d.isHTML5){u=w._start(d.id,d._iO.loops||1,L===9?d.position:d.position/it,d._iO.multiShot||false);if(L===9&&!u){v._wD(i+"No sound hardware, or 32-sound ceiling hit",2);if(d._iO.onplayerror){d._iO.onplayerror.apply(d)}}}else{if(d.instanceCount<2){c();a=d._setup_html5();d.setPosition(d._iO.position);a.play()}else{v._wD(d.id+": Cloning Audio() for instance #"+d.instanceCount+"...");s=new Audio(d._iO.url);r=function(){ke.remove(s,"ended",r);d._onfinish(d);Se(s);s=null};l=function(){ke.remove(s,"canplay",l);try{s.currentTime=d._iO.position/it}catch(e){de(d.id+": multiShot play() failed to apply position of "+d._iO.position/it)}s.play()};ke.add(s,"ended",r);if(d._iO.volume!==undefined){s.volume=Math.max(0,Math.min(1,d._iO.volume/100))}if(d.muted){s.muted=true}if(d._iO.position){ke.add(s,"canplay",l)}else{s.play()}}}}return d};this.start=this.play;this.stop=function(e){var t=d._iO,i;if(d.playState===1){v._wD(d.id+": stop()");d._onbufferchange(0);d._resetOnPosition(0);d.paused=false;if(!d.isHTML5){d.playState=0}l();if(t.to){d.clearOnPosition(t.to)}if(!d.isHTML5){w._stop(d.id,e);if(t.serverURL){d.unload()}}else{if(d._a){i=d.position;d.setPosition(0);d.position=i;d._a.pause();d.playState=0;d._onTimer();n()}}d.instanceCount=0;d._iO={};if(t.onstop){t.onstop.apply(d)}}return d};this.setAutoPlay=function(e){v._wD(d.id+": Autoplay turned "+(e?"on":"off"));d._iO.autoPlay=e;if(!d.isHTML5){w._setAutoPlay(d.id,e);if(e){if(!d.instanceCount&&d.readyState===1){d.instanceCount++;v._wD(d.id+": Incremented instance count to "+d.instanceCount)}}}};this.getAutoPlay=function(){return d._iO.autoPlay};this.setPosition=function(e){if(e===ht){e=0}var t,i,n=d.isHTML5?Math.max(e,0):Math.min(d.duration||d._iO.duration,Math.max(e,0));d.position=n;i=d.position/it;d._resetOnPosition(d.position);d._iO.position=n;if(!d.isHTML5){t=L===9?d.position:i;if(d.readyState&&d.readyState!==2){w._setPosition(d.id,t,d.paused||!d.playState,d._iO.multiShot)}}else if(d._a){if(d._html5_canplay){if(d._a.currentTime!==i){v._wD(d.id+": setPosition("+i+")");try{d._a.currentTime=i;if(d.playState===0||d.paused){d._a.pause()}}catch(e){v._wD(d.id+": setPosition("+i+") failed: "+e.message,2)}}}else if(i){v._wD(d.id+": setPosition("+i+"): Cannot seek yet, sound not ready",2);return d}if(d.paused){d._onTimer(true)}}return d};this.pause=function(e){if(d.paused||d.playState===0&&d.readyState!==1){return d}v._wD(d.id+": pause()");d.paused=true;if(!d.isHTML5){if(e||e===ht){w._pause(d.id,d._iO.multiShot)}}else{d._setup_html5().pause();n()}if(d._iO.onpause){d._iO.onpause.apply(d)}return d};this.resume=function(){var e=d._iO;if(!d.paused){return d}v._wD(d.id+": resume()");d.paused=false;d.playState=1;if(!d.isHTML5){if(e.isMovieStar&&!e.serverURL){d.setPosition(d.position)}w._pause(d.id,e.multiShot)}else{d._setup_html5().play();c()}if(!p&&e.onplay){e.onplay.apply(d);p=true}else if(e.onresume){e.onresume.apply(d)}return d};this.togglePause=function(){v._wD(d.id+": togglePause()");if(d.playState===0){d.play({position:L===9&&!d.isHTML5?d.position:d.position/it});return d}if(d.paused){d.resume()}else{d.pause()}return d};this.setPan=function(e,t){if(e===ht){e=0}if(t===ht){t=false}if(!d.isHTML5){w._setPan(d.id,e)}d._iO.pan=e;if(!t){d.pan=e;d.options.pan=e}return d};this.setVolume=function(e,t){if(e===ht){e=100}if(t===ht){t=false}if(!d.isHTML5){w._setVolume(d.id,v.muted&&!d.muted||d.muted?0:e)}else if(d._a){if(v.muted&&!d.muted){d.muted=true;d._a.muted=true}d._a.volume=Math.max(0,Math.min(1,e/100))}d._iO.volume=e;if(!t){d.volume=e;d.options.volume=e}return d};this.mute=function(){d.muted=true;if(!d.isHTML5){w._setVolume(d.id,0)}else if(d._a){d._a.muted=true}return d};this.unmute=function(){d.muted=false;var e=d._iO.volume!==ht;if(!d.isHTML5){w._setVolume(d.id,e?d._iO.volume:d.options.volume)}else if(d._a){d._a.muted=false}return d};this.toggleMute=function(){return d.muted?d.unmute():d.mute()};this.onPosition=function(e,t,i){a.push({position:parseInt(e,10),method:t,scope:i!==ht?i:d,fired:false});return d};this.onposition=this.onPosition;this.clearOnPosition=function(e,t){var i;e=parseInt(e,10);if(isNaN(e)){return false}for(i=0;i<a.length;i++){if(e===a[i].position){if(!t||t===a[i].method){if(a[i].fired){r--}a.splice(i,1)}}}};this._processOnPosition=function(){var e,t,i=a.length;if(!i||!d.playState||r>=i){return false}for(e=i-1;e>=0;e--){t=a[e];if(!t.fired&&d.position>=t.position){t.fired=true;r++;t.method.apply(t.scope,[t.position]);i=a.length}}return true};this._resetOnPosition=function(e){var t,i,n=a.length;if(!n){return false}for(t=n-1;t>=0;t--){i=a[t];if(i.fired&&e<=i.position){i.fired=false;r--}}return true};m=function(){var e=d._iO,t=e.from,i=e.to,n,a;a=function(){v._wD(d.id+': "To" time of '+i+" reached.");d.clearOnPosition(i,a);d.stop()};n=function(){v._wD(d.id+': Playing "from" '+t);if(i!==null&&!isNaN(i)){d.onPosition(i,a)}};if(t!==null&&!isNaN(t)){e.position=t;e.multiShot=false;n()}return e};h=function(){var e,t=d._iO.onposition;if(t){for(e in t){if(t.hasOwnProperty(e)){d.onPosition(parseInt(e,10),t[e])}}}};l=function(){var e,t=d._iO.onposition;if(t){for(e in t){if(t.hasOwnProperty(e)){d.clearOnPosition(parseInt(e,10))}}}};c=function(){if(d.isHTML5){me(d)}};n=function(){if(d.isHTML5){_e(d)}};o=function(e){if(!e){a=[];r=0}p=false;d._hasTimer=null;d._a=null;d._html5_canplay=false;d.bytesLoaded=null;d.bytesTotal=null;d.duration=d._iO&&d._iO.duration?d._iO.duration:null;d.durationEstimate=null;d.buffered=[];d.eqData=[];d.eqData.left=[];d.eqData.right=[];d.failures=0;d.isBuffering=false;d.instanceOptions={};d.instanceCount=0;d.loaded=false;d.metadata={};d.readyState=0;d.muted=false;d.paused=false;d.peakData={left:0,right:0};d.waveformData={left:[],right:[]};d.playState=0;d.position=null;d.id3={}};o();this._onTimer=function(e){var t,i=false,n,a={};if(d._hasTimer||e){if(d._a&&(e||(d.playState>0||d.readyState===1)&&!d.paused)){t=d._get_html5_duration();if(t!==f.duration){f.duration=t;d.duration=t;i=true}d.durationEstimate=d.duration;n=d._a.currentTime*it||0;if(n!==f.time){f.time=n;i=true}if(i||e){d._whileplaying(n,a,a,a,a)}}return i}};this._get_html5_duration=function(){var e=d._iO,t=d._a&&d._a.duration?d._a.duration*it:e&&e.duration?e.duration:null,i=t&&!isNaN(t)&&t!==Infinity?t:null;return i};this._apply_loop=function(e,t){if(!e.loop&&t>1){v._wD("Note: Native HTML5 looping is infinite.",1)}e.loop=t>1?"loop":""};this._setup_html5=function(e){var t=I(d._iO,e),i=He?y:d._a,n=decodeURI(t.url),a;if(He){if(n===decodeURI(Ae)){a=true}}else if(n===decodeURI(u)){a=true}if(i){if(i._s){if(He){if(i._s&&i._s.playState&&!a){i._s.stop()}}else if(!He&&n===decodeURI(u)){d._apply_loop(i,t.loops);return i}}if(!a){if(u){o(false)}i.src=t.url;d.url=t.url;u=t.url;Ae=t.url;i._called_load=false}}else{if(t.autoLoad||t.autoPlay){d._a=new Audio(t.url);d._a.load()}else{d._a=Je&&opera.version()<10?new Audio(null):new Audio}i=d._a;i._called_load=false;if(He){y=i}}d.isHTML5=true;d._a=i;i._s=d;s();d._apply_loop(i,t.loops);if(t.autoLoad||t.autoPlay){d.load()}else{i.autobuffer=false;i.preload="auto"}return i};s=function(){if(d._a._added_events){return false}var e;function t(e,t,i){return d._a?d._a.addEventListener(e,t,i||false):null}d._a._added_events=true;for(e in Ue){if(Ue.hasOwnProperty(e)){t(e,Ue[e])}}return true};t=function(){var e;function t(e,t,i){return d._a?d._a.removeEventListener(e,t,i||false):null}v._wD(d.id+": Removing event listeners");d._a._added_events=false;for(e in Ue){if(Ue.hasOwnProperty(e)){t(e,Ue[e])}}};this._onload=function(e){var t,i=!!e||!d.isHTML5&&L===8&&d.duration;t=d.id+": ";v._wD(t+(i?"onload()":"Failed to load / invalid sound?"+(!d.duration?" Zero-length duration reported.":" -")+" ("+d.url+")"),i?1:2);if(!i&&!d.isHTML5){if(v.sandbox.noRemote===true){v._wD(t+ae("noNet"),1)}if(v.sandbox.noLocal===true){v._wD(t+ae("noLocal"),1)}}d.loaded=i;d.readyState=i?3:2;d._onbufferchange(0);if(d._iO.onload){je(d,function(){d._iO.onload.apply(d,[i])})}return true};this._onbufferchange=function(e){if(d.playState===0){return false}if(e&&d.isBuffering||!e&&!d.isBuffering){return false}d.isBuffering=e===1;if(d._iO.onbufferchange){v._wD(d.id+": Buffer state change: "+e);d._iO.onbufferchange.apply(d,[e])}return true};this._onsuspend=function(){if(d._iO.onsuspend){v._wD(d.id+": Playback suspended");d._iO.onsuspend.apply(d)}return true};this._onfailure=function(e,t,i){d.failures++;v._wD(d.id+": Failure ("+d.failures+"): "+e);if(d._iO.onfailure&&d.failures===1){d._iO.onfailure(e,t,i)}else{v._wD(d.id+": Ignoring failure")}};this._onwarning=function(e,t,i){if(d._iO.onwarning){d._iO.onwarning(e,t,i)}};this._onfinish=function(){var e=d._iO.onfinish;d._onbufferchange(0);d._resetOnPosition(0);if(d.instanceCount){d.instanceCount--;if(!d.instanceCount){l();d.playState=0;d.paused=false;d.instanceCount=0;d.instanceOptions={};d._iO={};n();if(d.isHTML5){d.position=0}}if(!d.instanceCount||d._iO.multiShotEvents){if(e){v._wD(d.id+": onfinish()");je(d,function(){e.apply(d)})}}}};this._whileloading=function(e,t,i,n){var a=d._iO;d.bytesLoaded=e;d.bytesTotal=t;d.duration=Math.floor(i);d.bufferLength=n;if(!d.isHTML5&&!a.isMovieStar){if(a.duration){d.durationEstimate=d.duration>a.duration?d.duration:a.duration}else{d.durationEstimate=parseInt(d.bytesTotal/d.bytesLoaded*d.duration,10)}}else{d.durationEstimate=d.duration}if(!d.isHTML5){d.buffered=[{start:0,end:d.duration}]}if((d.readyState!==3||d.isHTML5)&&a.whileloading){a.whileloading.apply(d)}};this._whileplaying=function(e,t,i,n,a){var o=d._iO,s;if(isNaN(e)||e===null){return false}d.position=Math.max(0,e);d._processOnPosition();if(!d.isHTML5&&L>8){if(o.usePeakData&&t!==ht&&t){d.peakData={left:t.leftPeak,right:t.rightPeak}}if(o.useWaveformData&&i!==ht&&i){d.waveformData={left:i.split(","),right:n.split(",")}}if(o.useEQData){if(a!==ht&&a&&a.leftEQ){s=a.leftEQ.split(",");d.eqData=s;d.eqData.left=s;if(a.rightEQ!==ht&&a.rightEQ){d.eqData.right=a.rightEQ.split(",")}}}}if(d.playState===1){if(!d.isHTML5&&L===8&&!d.position&&d.isBuffering){d._onbufferchange(0)}if(o.whileplaying){o.whileplaying.apply(d)}}return true};this._oncaptiondata=function(e){v._wD(d.id+": Caption data received.");d.captiondata=e;if(d._iO.oncaptiondata){d._iO.oncaptiondata.apply(d,[e])}};this._onmetadata=function(e,t){v._wD(d.id+": Metadata received.");var i={},n,a;for(n=0,a=e.length;n<a;n++){i[e[n]]=t[n]}d.metadata=i;console.log("updated metadata",d.metadata);if(d._iO.onmetadata){d._iO.onmetadata.call(d,d.metadata)}};this._onid3=function(e,t){v._wD(d.id+": ID3 data received.");var i=[],n,a;for(n=0,a=e.length;n<a;n++){i[e[n]]=t[n]}d.id3=I(d.id3,i);if(d._iO.onid3){d._iO.onid3.apply(d)}};this._onconnect=function(e){e=e===1;v._wD(d.id+": "+(e?"Connected.":"Failed to connect? - "+d.url),e?1:2);d.connected=e;if(e){d.failures=0;if(ce(d.id)){if(d.getAutoPlay()){d.play(ht,d.getAutoPlay())}else if(d._iO.autoLoad){d.load()}}if(d._iO.onconnect){d._iO.onconnect.apply(d,[e])}}};this._ondataerror=function(e){if(d.playState>0){v._wD(d.id+": Data error: "+e);if(d._iO.ondataerror){d._iO.ondataerror.apply(d)}}};this._debug()};Q=function(){return D.body||D.getElementsByTagName("div")[0]};b=function(e){return D.getElementById(e)};I=function(e,t){var i=e||{},n,a;n=t===ht?v.defaultOptions:t;for(a in n){if(n.hasOwnProperty(a)&&i[a]===ht){if(typeof n[a]!=="object"||n[a]===null){i[a]=n[a]}else{i[a]=I(i[a],n[a])}}}return i};je=function(e,t){if(!e.isHTML5&&L===8){ct.setTimeout(t,0)}else{t()}};k={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};g=function(e,t){var i,n=true,a=t!==ht,o=v.setupOptions,s=k;if(e===ht){n=[];for(i in o){if(o.hasOwnProperty(i)){n.push(i)}}for(i in s){if(s.hasOwnProperty(i)){if(typeof v[i]==="object"){n.push(i+": {...}")}else if(v[i]instanceof Function){n.push(i+": function() {...}")}else{n.push(i)}}}v._wD(ae("setup",n.join(", ")));return false}for(i in e){if(e.hasOwnProperty(i)){if(typeof e[i]!=="object"||e[i]===null||e[i]instanceof Array||e[i]instanceof RegExp){if(a&&s[t]!==ht){v[t][i]=e[i]}else if(o[i]!==ht){v.setupOptions[i]=e[i];v[i]=e[i]}else if(s[i]===ht){de(ae(v[i]===ht?"setupUndef":"setupError",i),2);n=false}else{if(v[i]instanceof Function){v[i].apply(v,e[i]instanceof Array?e[i]:[e[i]])}else{v[i]=e[i]}}}else{if(s[i]===ht){de(ae(v[i]===ht?"setupUndef":"setupError",i),2);n=false}else{return g(e[i],i)}}}}return n};function ft(e){return v.preferFlash&&Ee&&!v.ignoreFlash&&(v.flash[e]!==ht&&v.flash[e])}ke=function(){var a=ct.attachEvent,o={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};function e(e){var t=Ce.call(e),i=t.length;if(a){t[1]="on"+t[1];if(i>3){t.pop()}}else if(i===3){t.push(false)}return t}function t(e,t){var i=e.shift(),n=[o[t]];if(a){i[n](e[0],e[1])}else{i[n].apply(i,e)}}function i(){t(e(arguments),"add")}function n(){t(e(arguments),"remove")}return{add:i,remove:n}}();function dt(n){return function(e){var t=this._s,i;if(!t||!t._a){if(t&&t.id){v._wD(t.id+": Ignoring "+e.type)}else{v._wD(o+"Ignoring "+e.type)}i=null}else{i=n.call(this,e)}return i}}Ue={abort:dt(function(){v._wD(this._s.id+": abort")}),canplay:dt(function(){var t=this._s,i;if(t._html5_canplay){return true}t._html5_canplay=true;v._wD(t.id+": canplay");t._onbufferchange(0);i=t._iO.position!==ht&&!isNaN(t._iO.position)?t._iO.position/it:null;if(this.currentTime!==i){v._wD(t.id+": canplay: Setting position to "+i);try{this.currentTime=i}catch(e){v._wD(t.id+": canplay: Setting position of "+i+" failed: "+e.message,2)}}if(t._iO._oncanplay){t._iO._oncanplay()}}),canplaythrough:dt(function(){var e=this._s;if(!e.loaded){e._onbufferchange(0);e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration());e._onload(true)}}),durationchange:dt(function(){var e=this._s,t;t=e._get_html5_duration();if(!isNaN(t)&&t!==e.duration){v._wD(this._s.id+": durationchange ("+t+")"+(e.duration?", previously "+e.duration:""));e.durationEstimate=e.duration=t}}),ended:dt(function(){var e=this._s;v._wD(e.id+": ended");e._onfinish()}),error:dt(function(){v._wD(this._s.id+": HTML5 error, code "+this.error.code);this._s._onload(false)}),loadeddata:dt(function(){var e=this._s;v._wD(e.id+": loadeddata");if(!e._loaded&&!Ke){e.duration=e._get_html5_duration()}}),loadedmetadata:dt(function(){v._wD(this._s.id+": loadedmetadata")}),loadstart:dt(function(){v._wD(this._s.id+": loadstart");this._s._onbufferchange(1)}),play:dt(function(){this._s._onbufferchange(0)}),playing:dt(function(){v._wD(this._s.id+": playing "+String.fromCharCode(9835));this._s._onbufferchange(0)}),progress:dt(function(e){var t=this._s,i,n,a,o=0,s=e.type==="progress",r=e.target.buffered,l=e.loaded||0,u=e.total||1;t.buffered=[];if(r&&r.length){for(i=0,n=r.length;i<n;i++){t.buffered.push({start:r.start(i)*it,end:r.end(i)*it})}o=(r.end(0)-r.start(0))*it;l=Math.min(1,o/(e.target.duration*it));if(s&&r.length>1){a=[];n=r.length;for(i=0;i<n;i++){a.push(e.target.buffered.start(i)*it+"-"+e.target.buffered.end(i)*it)}v._wD(this._s.id+": progress, timeRanges: "+a.join(", "))}if(s&&!isNaN(l)){v._wD(this._s.id+": progress, "+Math.floor(l*100)+"% loaded")}}if(!isNaN(l)){t._whileloading(l,u,t._get_html5_duration());if(l&&u&&l===u){Ue.canplaythrough.call(this,e)}}}),ratechange:dt(function(){v._wD(this._s.id+": ratechange")}),suspend:dt(function(e){var t=this._s;v._wD(this._s.id+": suspend");Ue.progress.call(this,e);t._onsuspend()}),stalled:dt(function(){v._wD(this._s.id+": stalled")}),timeupdate:dt(function(){this._s._onTimer()}),waiting:dt(function(){var e=this._s;v._wD(this._s.id+": waiting");e._onbufferchange(1)})};Le=function(e){var t;if(!e||!e.type&&!e.url&&!e.serverURL){t=false}else if(e.serverURL||e.type&&ft(e.type)){t=false}else{t=e.type?Te({type:e.type}):Te({url:e.url})||v.html5Only||e.url.match(/data\:/i)}return t};Se=function(e){var t;if(e){t=Ke?nt:v.html5.canPlayType("audio/wav")?at:nt;e.src=t;if(e._called_unload!==undefined){e._called_load=false}}if(He){Ae=null}return t};Te=function(e){if(!v.useHTML5Audio||!v.hasHTML5){return false}var t=e.url||null,i=e.type||null,n=v.audioFormats,a,o,s,r;if(i&&v.html5[i]!==ht){return v.html5[i]&&!ft(i)}if(!Pe){Pe=[];for(r in n){if(n.hasOwnProperty(r)){Pe.push(r);if(n[r].related){Pe=Pe.concat(n[r].related)}}}Pe=new RegExp("\\.("+Pe.join("|")+")(\\?.*)?$","i")}s=t?t.toLowerCase().match(Pe):null;if(!s||!s.length){if(!i){a=false}else{o=i.indexOf(";");s=(o!==-1?i.substr(0,o):i).substr(6)}}else{s=s[1]}if(s&&v.html5[s]!==ht){a=v.html5[s]&&!ft(s)}else{i="audio/"+s;a=v.html5.canPlayType({type:i});v.html5[s]=a;a=a&&v.html5[i]&&!ft(i)}return a};Ie=function(){if(!v.useHTML5Audio||!v.hasHTML5){v.html5.usingFlash=true;De=true;return false}var o=Audio!==ht?Je&&opera.version()<10?new Audio(null):new Audio:null,e,t,i={},n,s;function a(e){var t,i,n=false,a=false;if(!o||typeof o.canPlayType!=="function"){return n}if(e instanceof Array){for(s=0,i=e.length;s<i;s++){if(v.html5[e[s]]||o.canPlayType(e[s]).match(v.html5Test)){a=true;v.html5[e[s]]=true;v.flash[e[s]]=!!e[s].match(tt)}}n=a}else{t=o&&typeof o.canPlayType==="function"?o.canPlayType(e):false;n=!!(t&&t.match(v.html5Test))}return n}n=v.audioFormats;for(e in n){if(n.hasOwnProperty(e)){t="audio/"+e;i[e]=a(n[e].type);i[t]=i[e];if(e.match(tt)){v.flash[e]=true;v.flash[t]=true}else{v.flash[e]=false;v.flash[t]=false}if(n[e]&&n[e].related){for(s=n[e].related.length-1;s>=0;s--){i["audio/"+n[e].related[s]]=i[e];v.html5[n[e].related[s]]=i[e];v.flash[n[e].related[s]]=i[e]}}}}i.canPlayType=o?a:null;v.html5=I(v.html5,i);v.html5.usingFlash=Me();De=v.html5.usingFlash;return true};B={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:l+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:a+"Verify that %s is a valid path.",tryDebug:"Try "+l+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:a+"Non-HTTP page ("+D.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:a+"Special case: Waiting for SWF to load with window focus...",waitForever:a+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:a+"Waiting for 100% SWF load...",needFunction:a+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:a+"_debug(): Current sound objects",waitOnload:a+"Waiting for window.onload()",docLoaded:a+"Document already loaded",onload:a+"initComplete(): calling soundManager.onload()",onloadOK:l+".onload() complete",didInit:a+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:a+"Failed to remove Flash node.",shutdown:l+".disable(): Shutting down",queue:a+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+re.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:a+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:l+".load(): current URL already assigned.",badFV:l+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:a+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:a+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:l+".setup(): allowed parameters: %s",setupError:l+'.setup(): "%s" cannot be assigned with this method.',setupUndef:l+'.setup(): Could not find option "%s"',setupLate:l+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:a+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:l+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."};ae=function(){var e,t,i,n,a;e=Ce.call(arguments);n=e.shift();a=B&&B[n]?B[n]:"";if(a&&e&&e.length){for(t=0,i=e.length;t<i;t++){a=a.replace("%s",e[t])}}return a};ue=function(e){if(L===8&&e.loops>1&&e.stream){F("as2loop");e.stream=false}return e};fe=function(e,t){if(e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)){v._wD((t||"")+ae("policy"));e.usePolicyFile=true}return e};de=function(e){if(Ye&&console.warn!==ht){console.warn(e)}else{v._wD(e)}};i=function(){return false};Z=function(e){var t;for(t in e){if(e.hasOwnProperty(t)&&typeof e[t]==="function"){e[t]=i}}t=null};ee=function(e){if(e===ht){e=false}if(c||e){v.disable(e)}};te=function(e){var t=null,i;if(e){if(e.match(/\.swf(\?.*)?$/i)){t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4);if(t){return e}}else if(e.lastIndexOf("/")!==e.length-1){e+="/"}}i=(e&&e.lastIndexOf("/")!==-1?e.substr(0,e.lastIndexOf("/")+1):"./")+v.movieURL;if(v.noSWFCache){i+="?ts="+(new Date).getTime()}return i};U=function(){L=parseInt(v.flashVersion,10);if(L!==8&&L!==9){v._wD(ae("badFV",L,z));v.flashVersion=L=z}var e=v.debugMode||v.debugFlash?"_debug.swf":".swf";if(v.useHTML5Audio&&!v.html5Only&&v.audioFormats.mp4.required&&L<9){v._wD(ae("needfl9"));v.flashVersion=L=9}v.version=v.versionNumber+(v.html5Only?" (HTML5-only mode)":L===9?" (AS3/Flash 9)":" (AS2/Flash 8)");if(L>8){v.defaultOptions=I(v.defaultOptions,v.flash9Options);v.features.buffering=true;v.defaultOptions=I(v.defaultOptions,v.movieStarOptions);v.filePatterns.flash9=new RegExp("\\.(mp3|"+lt.join("|")+")(\\?.*)?$","i");v.features.movieStar=true}else{v.features.movieStar=false}v.filePattern=v.filePatterns[L!==8?"flash9":"flash8"];v.movieURL=(L===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);v.features.peakData=v.features.waveformData=v.features.eqData=L>8};X=function(e,t){if(!w){return false}w._setPolling(e,t)};G=function(){if(v.debugURLParam.test(s)){v.debugMode=true}if(b(v.debugID)){return false}var e,t,i,n,a;if(v.debugMode&&!b(v.debugID)&&(!Ye||!v.useConsole||!v.consoleOnly)){e=D.createElement("div");e.id=v.debugID+"-toggle";n={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};e.appendChild(D.createTextNode("-"));e.onclick=le;e.title="Toggle SM2 debug console";if(O.match(/msie 6/i)){e.style.position="absolute";e.style.cursor="hand"}for(a in n){if(n.hasOwnProperty(a)){e.style[a]=n[a]}}t=D.createElement("div");t.id=v.debugID;t.style.display=v.debugMode?"block":"none";if(v.debugMode&&!b(e.id)){try{i=Q();i.appendChild(e)}catch(e){throw new Error(ae("domError")+" \n"+e.toString())}i.appendChild(t)}}i=null};ce=this.getSoundById;F=function(e,t){return!e?"":v._wD(ae(e),t)};le=function(){var e=b(v.debugID),t=b(v.debugID+"-toggle");if(!e){return false}if(f){t.innerHTML="+";e.style.display="none"}else{t.innerHTML="-";e.style.display="block"}f=!f};T=function(e,t,i){if(ct.sm2Debugger!==ht){try{sm2Debugger.handleEvent(e,t,i)}catch(e){return false}}return true};se=function(){var e=[];if(v.debugMode){e.push(re.sm2Debug)}if(v.debugFlash){e.push(re.flashDebug)}if(v.useHighPerformance){e.push(re.highPerf)}return e.join(" ")};oe=function(){var e=ae("fbHandler"),t=v.getMoviePercent(),i=re,n={type:"FLASHBLOCK"};if(v.html5Only){return false}if(!v.ok()){if(De){v.oMC.className=se()+" "+i.swfDefault+" "+(t===null?i.swfTimedout:i.swfError);v._wD(e+": "+ae("fbTimeout")+(t?" ("+ae("fbLoaded")+")":""))}v.didFlashBlock=true;H({type:"ontimeout",ignoreInit:true,error:n});J(n)}else{if(v.didFlashBlock){v._wD(e+": Unblocked")}if(v.oMC){v.oMC.className=[se(),i.swfDefault,i.swfLoaded+(v.didFlashBlock?" "+i.swfUnblocked:"")].join(" ")}}};C=function(e,t,i){if(u[e]===ht){u[e]=[]}u[e].push({method:t,scope:i||null,fired:false})};H=function(e){if(!e){e={type:v.ok()?"onready":"ontimeout"}}if(!d&&e&&!e.ignoreInit){return false}if(e.type==="ontimeout"&&(v.ok()||c&&!e.ignoreInit)){return false}var t={success:e&&e.ignoreInit?v.ok():!c},i=e&&e.type?u[e.type]||[]:[],n=[],a,o,s=[t],r=De&&!v.ok();if(e.error){s[0].error=e.error}for(a=0,o=i.length;a<o;a++){if(i[a].fired!==true){n.push(i[a])}}if(n.length){for(a=0,o=n.length;a<o;a++){if(n[a].scope){n[a].method.apply(n[a].scope,s)}else{n[a].method.apply(this,s)}if(!r){n[a].fired=true}}}return true};A=function(){ct.setTimeout(function(){if(v.useFlashBlock){oe()}H();if(typeof v.onload==="function"){F("onload",1);v.onload.apply(ct);F("onloadOK",1)}if(v.waitForWindowLoad){ke.add(ct,"load",A)}},1)};Re=function(){if(Ee!==ht){return Ee}var e=false,t=navigator,i=t.plugins,n,a,o,s=ct.ActiveXObject;if(i&&i.length){a="application/x-shockwave-flash";o=t.mimeTypes;if(o&&o[a]&&o[a].enabledPlugin&&o[a].enabledPlugin.description){e=true}}else if(s!==ht&&!O.match(/MSAppHost/i)){try{n=new s("ShockwaveFlash.ShockwaveFlash")}catch(e){n=null}e=!!n;n=null}Ee=e;return e};Me=function(){var e,t,i=v.audioFormats,n=qe&&!!O.match(/os (1|2|3_0|3_1)\s/i);if(n){v.hasHTML5=false;v.html5Only=true;if(v.oMC){v.oMC.style.display="none"}}else{if(v.useHTML5Audio){if(!v.html5||!v.html5.canPlayType){v._wD("SoundManager: No HTML5 Audio() support detected.");v.hasHTML5=false}if(Ge){v._wD(a+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(!Ee?" would use flash fallback for MP3/MP4, but none detected.":"will use flash fallback for MP3/MP4, if available"),1)}}}if(v.useHTML5Audio&&v.hasHTML5){Oe=true;for(t in i){if(i.hasOwnProperty(t)){if(i[t].required){if(!v.html5.canPlayType(i[t].type)){Oe=false;e=true}else if(v.preferFlash&&(v.flash[t]||v.flash[i[t].type])){e=true}}}}}if(v.ignoreFlash){e=false;Oe=true}v.html5Only=v.hasHTML5&&v.useHTML5Audio&&!e;return!v.html5Only};ve=function(e){var t,i,n=0,a;if(e instanceof Array){for(t=0,i=e.length;t<i;t++){if(e[t]instanceof Object){if(v.canPlayMIME(e[t].type)){n=t;break}}else if(v.canPlayURL(e[t])){n=t;break}}if(e[n].url){e[n]=e[n].url}a=e[n]}else{a=e}return a};me=function(e){if(!e._hasTimer){e._hasTimer=true;if(!Xe&&v.html5PollingInterval){if(we===null&&ye===0){we=setInterval(ge,v.html5PollingInterval)}ye++}}};_e=function(e){if(e._hasTimer){e._hasTimer=false;if(!Xe&&v.html5PollingInterval){ye--}}};ge=function(){var e;if(we!==null&&!ye){clearInterval(we);we=null;return false}for(e=v.soundIDs.length-1;e>=0;e--){if(v.sounds[v.soundIDs[e]].isHTML5&&v.sounds[v.soundIDs[e]]._hasTimer){v.sounds[v.soundIDs[e]]._onTimer()}}};J=function(e){e=e!==ht?e:{};if(typeof v.onerror==="function"){v.onerror.apply(ct,[{type:e.type!==ht?e.type:null}])}if(e.fatal!==ht&&e.fatal){v.disable()}};xe=function(){if(!Ge||!Re()){return false}var e=v.audioFormats,t,i;for(i in e){if(e.hasOwnProperty(i)){if(i==="mp3"||i==="mp4"){v._wD(l+": Using flash fallback for "+i+" format");v.html5[i]=false;if(e[i]&&e[i].related){for(t=e[i].related.length-1;t>=0;t--){v.html5[e[i].related[t]]=false}}}}}};this._setSandboxType=function(e){var t=v.sandbox;t.type=e;t.description=t.types[t.types[e]!==ht?e:"unknown"];if(t.type==="localWithFile"){t.noRemote=true;t.noLocal=false;F("secNote",2)}else if(t.type==="localWithNetwork"){t.noRemote=false;t.noLocal=true}else if(t.type==="localTrusted"){t.noRemote=false;t.noLocal=false}};this._externalInterfaceOK=function(e){if(v.swfLoaded){return false}var t;T("swf",true);T("flashtojs",true);v.swfLoaded=true;Ze=false;if(Ge){xe()}if(!e||e.replace(/\+dev/i,"")!==v.versionNumber.replace(/\+dev/i,"")){t=l+': Fatal: JavaScript file build "'+v.versionNumber+'" does not match Flash SWF build "'+e+'" at '+v.url+". Ensure both are up-to-date.";setTimeout(function e(){throw new Error(t)},0);return false}setTimeout(M,$e?100:1)};K=function(e,t){if(P&&S){return false}function i(){var e=[],t,i=[],n=" + ";t="SoundManager "+v.version+(!v.html5Only&&v.useHTML5Audio?v.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");if(!v.html5Only){if(v.preferFlash){e.push("preferFlash")}if(v.useHighPerformance){e.push("useHighPerformance")}if(v.flashPollingInterval){e.push("flashPollingInterval ("+v.flashPollingInterval+"ms)")}if(v.html5PollingInterval){e.push("html5PollingInterval ("+v.html5PollingInterval+"ms)")}if(v.wmode){e.push("wmode ("+v.wmode+")")}if(v.debugFlash){e.push("debugFlash")}if(v.useFlashBlock){e.push("flashBlock")}}else{if(v.html5PollingInterval){e.push("html5PollingInterval ("+v.html5PollingInterval+"ms)")}}if(e.length){i=i.concat([e.join(n)])}v._wD(t+(i.length?n+i.join(", "):""),1);Ne()}if(v.html5Only){U();i();v.oMC=b(v.movieID);M();P=true;S=true;return false}var n=t||v.url,a=v.altURL||n,o="JS/Flash audio component (SoundManager 2)",s=Q(),r=se(),l=null,u=D.getElementsByTagName("html")[0],f,d,c,h,p,m,g,y;l=u&&u.dir&&u.dir.match(/rtl/i);e=e===ht?v.id:e;function w(e,t){return'<param name="'+e+'" value="'+t+'" />'}U();v.url=te(ot?n:a);t=v.url;v.wmode=!v.wmode&&v.useHighPerformance?"transparent":v.wmode;if(v.wmode!==null&&(O.match(/msie 8/i)||!$e&&!v.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){be.push(B.spcWmode);v.wmode=null}f={name:e,id:e,src:t,quality:"high",allowScriptAccess:v.allowScriptAccess,bgcolor:v.bgColor,pluginspage:st+"www.macromedia.com/go/getflashplayer",title:o,type:"application/x-shockwave-flash",wmode:v.wmode,hasPriority:"true"};if(v.debugFlash){f.FlashVars="debug=1"}if(!v.wmode){delete f.wmode}if($e){d=D.createElement("div");h=['<object id="'+e+'" data="'+t+'" type="'+f.type+'" title="'+f.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+st+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',w("movie",t),w("AllowScriptAccess",v.allowScriptAccess),w("quality",f.quality),v.wmode?w("wmode",v.wmode):"",w("bgcolor",v.bgColor),w("hasPriority","true"),v.debugFlash?w("FlashVars",f.FlashVars):"","</object>"].join("")}else{d=D.createElement("embed");for(c in f){if(f.hasOwnProperty(c)){d.setAttribute(c,f[c])}}}G();r=se();s=Q();if(s){v.oMC=b(v.movieID)||D.createElement("div");if(!v.oMC.id){v.oMC.id=v.movieID;v.oMC.className=re.swfDefault+" "+r;m=null;p=null;if(!v.useFlashBlock){if(v.useHighPerformance){m={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}}else{m={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"};if(l){m.left=Math.abs(parseInt(m.left,10))+"px"}}}if(Qe){v.oMC.style.zIndex=1e4}if(!v.debugFlash){for(g in m){if(m.hasOwnProperty(g)){v.oMC.style[g]=m[g]}}}try{if(!$e){v.oMC.appendChild(d)}s.appendChild(v.oMC);if($e){p=v.oMC.appendChild(D.createElement("div"));p.className=re.swfBox;p.innerHTML=h}S=true}catch(e){throw new Error(ae("domError")+" \n"+e.toString())}}else{y=v.oMC.className;v.oMC.className=(y?y+" ":re.swfDefault)+(r?" "+r:"");v.oMC.appendChild(d);if($e){p=v.oMC.appendChild(D.createElement("div"));p.className=re.swfBox;p.innerHTML=h}S=true}}P=true;i();return true};j=function(){if(v.html5Only){K();return false}if(w){return false}if(!v.url){F("noURL");return false}w=v.getMovie(v.id);if(!w){if(!ie){K(v.id,v.url)}else{if(!$e){v.oMC.appendChild(ie)}else{v.oMC.innerHTML=ne}ie=null;P=true}w=v.getMovie(v.id)}if(typeof v.oninitmovie==="function"){setTimeout(v.oninitmovie,1)}Be();return true};E=function(){setTimeout(R,1e3)};x=function(){ct.setTimeout(function(){de(a+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...");v.setup({preferFlash:false}).reboot();v.didFlashBlock=true;v.beginDelayedInit()},1)};R=function(){var e,t=false;if(!v.url){return false}if(he){return false}he=true;ke.remove(ct,"load",E);if(Ee&&Ze&&!ze){F("waitFocus");return false}if(!d){e=v.getMoviePercent();if(e>0&&e<100){t=true}}setTimeout(function(){e=v.getMoviePercent();if(t){he=false;v._wD(ae("waitSWF"));ct.setTimeout(E,1);return false}if(!d){v._wD(l+": No Flash response within expected time. Likely causes: "+(e===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(v.debugFlash?" "+ae("checkSWF"):""),2);if(!ot&&e){F("localFail",2);if(!v.debugFlash){F("tryDebug",2)}}if(e===0){v._wD(ae("swf404",v.url),1)}T("flashtojs",false,true?" (Check flash security or flash blockers)":undefined)}if(!d&&et){if(e===null){if(v.useFlashBlock||v.flashLoadTimeout===0){if(v.useFlashBlock){oe()}F("waitForever")}else{if(!v.useFlashBlock&&Oe){x()}else{F("waitForever");H({type:"ontimeout",ignoreInit:true,error:{type:"INIT_FLASHBLOCK"}})}}}else{if(v.flashLoadTimeout===0){F("waitForever")}else{if(!v.useFlashBlock&&Oe){x()}else{ee(true)}}}}},v.flashLoadTimeout)};N=function(){function e(){ke.remove(ct,"focus",N)}if(ze||!Ze){e();return true}et=true;ze=true;F("gotFocus");he=false;E();e();return true};Be=function(){if(be.length){v._wD("SoundManager 2: "+be.join(" "),1);be=[]}};Ne=function(){Be();var e,t=[];if(v.useHTML5Audio&&v.hasHTML5){for(e in v.audioFormats){if(v.audioFormats.hasOwnProperty(e)){t.push(e+" = "+v.html5[e]+(!v.html5[e]&&De&&v.flash[e]?" (using flash)":v.preferFlash&&v.flash[e]&&De?" (preferring flash)":!v.html5[e]?" ("+(v.audioFormats[e].required?"required, ":"")+"and no flash support)":""))}}v._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}};m=function(e){if(d){return false}if(v.html5Only){F("sm2Loaded",1);d=true;A();T("onload",true);return true}var t=v.useFlashBlock&&v.flashLoadTimeout&&!v.getMoviePercent(),i=true,n;if(!t){d=true}n={type:!Ee&&De?"NO_FLASH":"INIT_TIMEOUT"};v._wD("SoundManager 2 "+(c?"failed to load":"loaded")+" ("+(c?"Flash security/load error":"OK")+") "+String.fromCharCode(c?10006:10003),c?2:1);if(c||e){if(v.useFlashBlock&&v.oMC){v.oMC.className=se()+" "+(v.getMoviePercent()===null?re.swfTimedout:re.swfError)}H({type:"ontimeout",error:n,ignoreInit:true});T("onload",false);J(n);i=false}else{T("onload",true)}if(!c){if(v.waitForWindowLoad&&!h){F("waitOnload");ke.add(ct,"load",A)}else{if(v.waitForWindowLoad&&h){F("docLoaded")}A()}}return i};n=function(){var e,t=v.setupOptions;for(e in t){if(t.hasOwnProperty(e)){if(v[e]===ht){v[e]=t[e]}else if(v[e]!==t[e]){v.setupOptions[e]=v[e]}}}};M=function(){if(d){F("didInit");return false}function e(){ke.remove(ct,"load",v.beginDelayedInit)}if(v.html5Only){if(!d){e();v.enabled=true;m()}return true}j();try{w._externalInterfaceTest(false);X(true,v.flashPollingInterval||(v.useHighPerformance?10:50));if(!v.debugMode){w._disableDebug()}v.enabled=true;T("jstoflash",true);if(!v.html5Only){ke.add(ct,"unload",i)}}catch(e){v._wD("js/flash exception: "+e.toString());T("jstoflash",false);J({type:"JS_TO_FLASH_EXCEPTION",fatal:true});ee(true);m();return false}m();e();return true};q=function(){if($){return false}$=true;n();G();(function(){var e="sm2-usehtml5audio=",t="sm2-preferflash=",i=null,n=null,a=s.toLowerCase();if(a.indexOf(e)!==-1){i=a.charAt(a.indexOf(e)+e.length)==="1";if(Ye){console.log((i?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter")}v.setup({useHTML5Audio:i})}if(a.indexOf(t)!==-1){n=a.charAt(a.indexOf(t)+t.length)==="1";if(Ye){console.log((n?"Enabling ":"Disabling ")+"preferFlash via URL parameter")}v.setup({preferFlash:n})}})();if(!Ee&&v.hasHTML5){v._wD("SoundManager 2: No Flash detected"+(!v.useHTML5Audio?", enabling HTML5.":". Trying HTML5-only mode."),1);v.setup({useHTML5Audio:true,preferFlash:false})}Ie();if(!Ee&&De){be.push(B.needFlash);v.setup({flashLoadTimeout:1})}if(D.removeEventListener){D.removeEventListener("DOMContentLoaded",q,false)}j();return true};Fe=function(){if(D.readyState==="complete"){q();D.detachEvent("onreadystatechange",Fe)}return true};V=function(){h=true;q();ke.remove(ct,"load",V)};W=function(){if(Xe){if(!v.setupOptions.useHTML5Audio||v.setupOptions.preferFlash){be.push(B.mobileUA)}v.setupOptions.useHTML5Audio=true;v.setupOptions.preferFlash=false;if(qe||Ve&&!O.match(/android\s2\.3/i)){be.push(B.globalHTML5);if(qe){v.ignoreFlash=true}He=true}}};W();Re();ke.add(ct,"focus",N);ke.add(ct,"load",E);ke.add(ct,"load",V);if(D.addEventListener){D.addEventListener("DOMContentLoaded",q,false)}else if(D.attachEvent){D.attachEvent("onreadystatechange",Fe)}else{T("onload",false);J({type:"NO_DOM2_EVENTS",fatal:true})}}if(ct.SM2_DEFER===undefined||!SM2_DEFER){e=new t}if(true&&i&&typeof i.exports==="object"){ct.soundManager=e;i.exports.SoundManager=t;i.exports.soundManager=e}else if(true){!(n=[],a=function(){return{SoundManager:t,soundManager:e}}.apply(o,n),a!==undefined&&(i.exports=a))}else{}})(window);(function(l){var u="./multirecorder-worker.js";var f=function(e,t){var i=t||{};var n=i.bufferLen||4096;this.context=e.context;this.pausePoints=[];this.node=this.context.createScriptProcessor(n,2,2);var a=new Worker(i.workerPath||u);a.postMessage({command:"init",config:{sampleRate:this.context.sampleRate}});var o=false;function s(t){if(!t){throw new Error("Callback not set")}var i="RecorderCallback"+Math.round(Math.random()*1000001);l[i]=function(e){t(e);delete l[i]};return i}function r(e,t){if(t){e.callbackId=s(t)}a.postMessage(e)}this.node.onaudioprocess=function(e){if(!o){return}r({command:"record",buffer:[e.inputBuffer.getChannelData(0),e.inputBuffer.getChannelData(1)]})};this.configure=function(e){for(var t in e){if(e.hasOwnProperty(t)){i[t]=e[t]}}};this.record=function(){o=true};this.stop=function(){o=false};this.isRecording=function(){return o};this.clear=function(){r({command:"clear"})};this.finishRecording=function(t){var i=this;var e=function(e){i.wav=e.wav;i.samples=e.samples;t(i)};r({command:"finishRecording"},e)};this.combineRecordings=function(t,e){var i=this;var n=[];for(var a=0;a<e.length;a++){n.push(e[a].samples)}var o=function(e){i.wav=e.wav;i.samples=e.samples;t(i)};r({command:"combineRecordings",samples:n},o)};this.createAudioPlayer=function(){var e=URL.createObjectURL(this.wav);var t=document.createElement("audio");t.controls=true;t.src=e;return t};this.createDownloadLink=function(){var e=URL.createObjectURL(this.wav);var t=document.createElement("a");t.href=e;t.download=(new Date).toISOString()+".wav";t.innerHTML=t.download;return t};a.onmessage=function(e){var t=e.data.callbackId;if(t){l[t](e.data.result)}};e.connect(this.node);this.node.connect(this.context.destination)};function e(a){var o;var s;var r;a=a||{};l.AudioContext=l.AudioContext||l.webkitAudioContext;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia;l.URL=l.URL||l.webkitURL;this.isRecording=function(){return r&&r.isRecording()};this.startRecording=function(t){var i=jQuery.Deferred();if(!l.AudioContext||!navigator.getUserMedia){i.reject("Audio recording does not work in this browser")}function n(){r=new f(s,{workerPath:a.workerPath||u});if(t){var e=l.setInterval(function(){if(t===0){i.resolve(r);r.record();l.clearInterval(e)}else{i.notify(t);t--}},1e3)}else{r.record()}}if(!o){o=new AudioContext;navigator.getUserMedia({audio:true},function(e){s=o.createMediaStreamSource(e);s.connect(o.destination);n()},function(){i.reject("Error getting mic input")})}else{n()}return i};this.stopRecording=function(){var e=jQuery.Deferred();r.stop();r.finishRecording(function(){e.resolve(r)});return e};this.combineRecordings=function(e){var t=jQuery.Deferred();var i=new f(s,{workerPath:a.workerPath||u});i.combineRecordings(function(){t.resolve(i)},e);return t}}l.MultiRecorder=e})(window);(function(e){function t(e){this.authKey=e.authKey;this.templateId=e.templateId;this.successCb=e.successCb||null;this.errorCb=e.errorCb||null;this.steps=e.steps||{}}t.prototype.checkAssemblyStatus=function(i){var n=this;i=i.replace(/^http:/,"https:");i=i.replace(/api2.[^.]*.transloadit/,"api2.transloadit");$.ajax({url:i,type:"GET",dataType:"json",success:function(e,t){if(e.ok&&e.ok=="ASSEMBLY_COMPLETED"){if(typeof n.successCb==="function"){n.successCb(e.results)}return}if(e.error||e.ok!="ASSEMBLY_EXECUTING"&&e.ok!="ASSEMBLY_UPLOADING"){if(typeof n.errorCb==="function"){n.errorCb("Failed to check assembly ("+t+")")}return}setTimeout(function(){n.checkAssemblyStatus(i)},1e3)},error:function(e,t){if(typeof n.errorCb==="function"){n.errorCb("Failed to check assembly ("+t+")")}}})};t.prototype.uploadFile=function(e){var t={auth:{key:this.authKey},template_id:this.templateId,steps:this.steps};var n=this;var i=new FormData;i.append("params",JSON.stringify(t));i.append("file",e);var a=new XMLHttpRequest;a.open("POST","https://api2.transloadit.com/assemblies",true);a.onreadystatechange=function(e){var t=e.target;if(t.readyState===4){if(t.status===200){var i=jQuery.parseJSON(t.responseText);n.checkAssemblyStatus(i.assembly_url)}else if(typeof n.errorCb==="function"){n.errorCb("Failed to upload file")}}};a.send(i)};e.TransloaditXhr=t})(window);window["Handlebars"]=window["Handlebars"]||{};window["Handlebars"]["templates"]=window["Handlebars"]["templates"]||{};window["Handlebars"]["templates"]["dev-record"]=Handlebars.template({1:function(e,t,i,n,a){return"Start New Chunk"},3:function(e,t,i,n,a){return"Discard Recorded Chunk"},5:function(e,t,i,n,a){return"Save Recorded Chunk"},7:function(e,t,i,n,a){return"Refresh Editor State"},9:function(e,t,i,n,a){return"Last audio chunk recorded: "},11:function(e,t,i,n,a){return"Empty"},13:function(e,t,i,n,a){return"All saved audio chunks: "},compiler:[7,">= 4.0.0"],main:function(e,t,i,n,a){var o,s,r,l=t!=null?t:e.nullContext||{},u=i.helperMissing,f="function",d=i.blockHelperMissing,c='<div class="scratchpad-dev-record">\n    <div class="scratchpad-dev-record-buttons">\n        <button class="scratchpad-dev-new-chunk simple-button">';o=(s=(s=i._||(t!=null?t._:t))!=null?s:u,r={name:"_",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a},typeof s===f?s.call(l,r):s);if(!i._){o=d.call(t,o,r)}if(o!=null){c+=o}c+='</button>\n        <button class="scratchpad-dev-discard-chunk simple-button">';o=(s=(s=i._||(t!=null?t._:t))!=null?s:u,r={name:"_",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a},typeof s===f?s.call(l,r):s);if(!i._){o=d.call(t,o,r)}if(o!=null){c+=o}c+='</button>\n        <button class="scratchpad-dev-save-chunk simple-button">';o=(s=(s=i._||(t!=null?t._:t))!=null?s:u,r={name:"_",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a},typeof s===f?s.call(l,r):s);if(!i._){o=d.call(t,o,r)}if(o!=null){c+=o}c+='</button>\n        <button class="scratchpad-dev-refresh-editor-state simple-button">';o=(s=(s=i._||(t!=null?t._:t))!=null?s:u,r={name:"_",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a},typeof s===f?s.call(l,r):s);if(!i._){o=d.call(t,o,r)}if(o!=null){c+=o}c+='</button>\n    </div>\n    <div class="show-audio-chunks-wrapper">\n        <p>';o=(s=(s=i._||(t!=null?t._:t))!=null?s:u,r={name:"_",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a},typeof s===f?s.call(l,r):s);if(!i._){o=d.call(t,o,r)}if(o!=null){c+=o}c+='<span class="last-audio-chunk">';o=(s=(s=i._||(t!=null?t._:t))!=null?s:u,r={name:"_",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a},typeof s===f?s.call(l,r):s);if(!i._){o=d.call(t,o,r)}if(o!=null){c+=o}c+="</span></p>\n        <p>";o=(s=(s=i._||(t!=null?t._:t))!=null?s:u,r={name:"_",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a},typeof s===f?s.call(l,r):s);if(!i._){o=d.call(t,o,r)}if(o!=null){c+=o}c+='<span class="saved-audio-chunks">';o=(s=(s=i._||(t!=null?t._:t))!=null?s:u,r={name:"_",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a},typeof s===f?s.call(l,r):s);if(!i._){o=d.call(t,o,r)}if(o!=null){c+=o}return c+"</span></p>\n    </div>\n</div>"},useData:true});$(document).delegate("a.ui-button",{mouseenter:function e(){if(!$(this).hasClass("ui-state-disabled")){$(this).addClass("ui-state-hover")}},mouseleave:function e(){$(this).removeClass("ui-state-hover")},click:function e(t){t.preventDefault();if(!$(this).hasClass("ui-state-disabled")){$(this).trigger("buttonClick")}}});$.fn.buttonize=function(){return this.find(".ui-button").addClass("ui-widget ui-state-default ui-corner-all").find("span:first").addClass("ui-button-icon-primary ui-icon").end().filter(":has(.ui-button-text)").addClass("ui-button-text-icon-primary").end().not(":has(.ui-button-text)").addClass("ui-button-icon-only").append("<span class='ui-button-text'>&nbsp;</span>").end().end()}}).call(this,t("YuTi")(e))}}]);
//# sourceMappingURL=../../sourcemaps/en/83bb0a2ff541e8c93a976614459614b0.8474694824a97ae55b43.js.map