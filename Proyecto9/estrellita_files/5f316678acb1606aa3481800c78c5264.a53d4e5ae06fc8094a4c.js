(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5f316678acb1606aa3481800c78c5264"],{"/tP0":function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=a(r("q1tI"));var c=r("mR6N");var f=n(r("wa3X"));var p=r("Vxy9");var d=r("JasB");var h=n(r("gE8/"));var v=r("Uafs");var m=r("JimW");var i=r("z8VS");var i18n=a(r("HEOz"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}function y(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return b(e)}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return E(e,t)}function w(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var j=function(e){O(o,e);function o(){var e;var r;l(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++){n[a]=arguments[a]}r=y(this,(e=g(o)).call.apply(e,[this].concat(n)));w(b(r),"state",{justification:"",reason:""});w(b(r),"handleChange",function(e){r.setState({reason:e})});w(b(r),"handleSubmit",function(){r.props.onSelectReason(r.state.reason,r.state.justification);r.props.closeModal()});w(b(r),"renderAction",function(e,t){var r=e.examples,n=e.header,a=e.name;var o=r.join(", ");return u.createElement(i.Choice,{key:t,label:n,value:a,description:o})});w(b(r),"renderButtons",function(){var e=r.props.actions;var t=e.map(function(e,t){return r.renderAction(e,t)});return u.createElement(i.RadioGroup,{label:i18n._("Este es el caso de:"),groupName:"reason",onChange:r.handleChange,selectedValue:r.state.reason},t)});return r}s(o,[{key:"renderModal",value:function e(t){var r=this;var n=this.props.bodyText;var a=275;var o=this.props.textContent;if(o.length>a){o=o.substring(0,a)+"..."}var i=t.get("justification-label");var l=t.get("justification-textarea");var s=u.createElement(m.View,null,u.createElement(p.LabelMedium,{id:i,htmlFor:l},i18n._("\u00bfC\u00f3mo es que esto viola nuestros lineamientos?")),u.createElement("textarea",{"aria-labelledby":i,id:l,className:(0,c.css)(P.textarea),rows:"3",value:this.state.justification,onChange:function e(t){return r.setState({justification:t.target.value})}}));return u.createElement(v.OnePaneDialog,{title:i18n._("Marca para la atenci\u00f3n del guardi\u00e1n"),content:u.createElement(m.View,null,u.createElement(p.Body,null,n),u.createElement(d.Strut,{size:h.default.medium}),s,u.createElement(d.Strut,{size:h.default.medium}),this.renderButtons()),footer:u.createElement(m.View,{style:P.modalFooter},u.createElement(f.default,{kind:"tertiary",onClick:this.props.closeModal},i18n._("Cancelar")),u.createElement(d.Strut,{size:h.default.medium}),u.createElement(f.default,{kind:"primary",onClick:this.handleSubmit,disabled:!this.state.reason},i18n._("Enviar")))})}},{key:"render",value:function e(){var t=this;return u.createElement(m.UniqueIDProvider,{mockOnFirstRender:true,scope:"coding-flag-modal"},function(e){return t.renderModal(e)})}}]);return o}(u.Component);w(j,"defaultProps",{textContent:""});var P=c.StyleSheet.create({textarea:{width:"100%"},modalFooter:{flexDirection:"row",justifyContent:"flex-end"}});var C=j;t.default=C},"3aD9":function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=v(r("q1tI"));var n=r("mR6N");var u=h(r("wa3X"));var a=r("JimW");var o=r("Vxy9");var c=r("Uafs");var i=h(r("mXPZ"));var l=r("skGw");var f=r("qgfM");var p=h(r("NYIc"));var d=h(r("JlCW"));var i18n=v(r("HEOz"));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function m(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){y(t,e,r[e])})}return t}function y(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function O(e,t,r){if(t)b(e.prototype,t);if(r)b(e,r);return e}function E(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return w(e)}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return j(e)}function P(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)C(e,t)}function C(e,t){C=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return C(e,t)}var k=function(e){P(t,e);function t(){g(this,t);return E(this,j(t).apply(this,arguments))}O(t,[{key:"render",value:function e(){var r=this;var t=this.props.model.get("type");if(!i.default.isLoggedIn){return s.createElement(c.OnePaneDialog,{title:i18n._("\u00a1Ay caray!"),content:s.createElement(o.Body,null,i18n._("Debes iniciar sesi\u00f3n para poder marcar.")),footer:s.createElement(a.View,null,s.createElement(u.default,{kind:"primary",onClick:this.props.closeModal},i18n._("Bien"))),style:N.loginModal})}if(t==="scratchpad"){return s.createElement(p.default,{onSelectReason:function e(){var t;return(t=r.props).submitFlag.apply(t,arguments)},textContent:this.props.model.getTextContent(),closeModal:this.props.closeModal,isComputerProgramming:false})}return s.createElement(d.default,{onSelectReason:function e(){var t;return(t=r.props).submitFlag.apply(t,arguments)},textContent:this.props.model.getTextContent(),closeModal:this.props.closeModal})}}]);return t}(s.Component);var M=function(e){P(o,e);function o(){var e;var r;g(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++){n[a]=arguments[a]}r=E(this,(e=j(o)).call.apply(e,[this].concat(n)));y(w(r),"state",{sendingFlag:false,justFlagged:false});y(w(r),"submitFlag",function(e,t){r.setState({sendingFlag:true});(0,l.khanFetch)("/api/internal/discussions/flagentity",m({method:"POST"},(0,l.formUrlencode)({flag:e,justification:t,entity_key:r.props.model.id}))).then(function(e){r.setState({justFlagged:true,sendingFlag:false})}).catch(function(e){r.setState({sendingFlag:false})})});return r}O(o,[{key:"render",value:function e(){var n=this;var a=this.props.model;var r=a.get("flaggedByUser")||this.state.justFlagged;var o=r?i18n._("Marcado"):i18n._("Marca");var i="tertiary";var l="small";if(a.get("flagButton")){i="secondary";l="medium"}return s.createElement(c.ModalLauncher,{modal:function e(t){var r=t.closeModal;return s.createElement(k,{model:a,closeModal:r,submitFlag:n.submitFlag})}},function(e){var t=e.openModal;return s.createElement(u.default,{kind:i,size:l,disabled:r,spinner:n.state.sendingFlag,onClick:t},o)})}}]);return o}(s.Component);var N=n.StyleSheet.create({loginModal:{maxHeight:250}});var S=M;t.default=S},"6/KF":function(e,t,r){"use strict";r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(r("q1tI"));var i18n=a(r("HEOz"));function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function l(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}function s(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return p(e,t)}var d=function(e){f(t,e);function t(){o(this,t);return s(this,c(t).apply(this,arguments))}l(t,[{key:"render",value:function e(){if(this.props.duplicate){return n.createElement("div",{className:"low-quality-notice-header"},n.createElement("h4",null,i18n._("Reduce, reutiliza, recicla.")),i18n._("Gracias por tu %(translatedFeedbackType)s. Nuestros robots lo han integrado al %(translatedFeedbackType)s previo, lo resaltaron arriba y lo votaron.",{translatedFeedbackType:this.props.translatedFeedbackType}),n.createElement("br",null),i18n._("Tus ayudantes de la limpieza, los Guardianes de Khan Academy."))}return n.createElement("div",{className:"low-quality-notice-header"},n.createElement("h4",null,i18n._("Por favor aclara tu %(translatedFeedbackType)s.",{translatedFeedbackType:this.props.translatedFeedbackType})),i18n._("Nuestro ej\u00e9rcito de robots ha etiquetado tu contribuci\u00f3n como \"de baja calidad\". Para que aparezca en el sitio como est\u00e1 escrita originalmente, los guardias de Khan Academy tienen que aprobar manualmente tu %(translatedFeedbackType)s.",{translatedFeedbackType:this.props.translatedFeedbackType}))}}]);return t}(n.Component);var h=function(e){f(t,e);function t(){o(this,t);return s(this,c(t).apply(this,arguments))}l(t,[{key:"render",value:function e(){return n.createElement("div",{className:"low-quality-notice-footer"},n.createElement("em",null,this.props.translatedFeedbackEditTip))}}]);return t}(n.Component);var v=function e(t){return{header:n.createElement(d,{duplicate:t.duplicate,translatedFeedbackType:t.translatedFeedbackType}),footer:n.createElement(h,{translatedFeedbackEditTip:t.translatedFeedbackEditTip})}};var m=v;t.default=m},JlCW:function(e,t,r){"use strict";r("zKZe");r("5DmW");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=i(r("q1tI"));var a=o(r("/tP0"));var i18n=i(r("HEOz"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return l.apply(this,arguments)}var s=function e(t){var r=[{name:"inappropriate",header:i18n._("abuso"),examples:[i18n._("Irrespetuoso u ofensivo"),i18n._("un anuncio")]},{name:"lowquality",header:i18n._("no es \u00fatil"),examples:[i18n._("baja calidad"),i18n._("no sobre el tema actual"),i18n._("Solicitar votos o buscar medallas"),i18n._("Se hace la misma publicaci\u00f3n varias veces")]}];return n.createElement(a.default,l({},t,{actions:r}))};var u=s;t.default=u},NYIc:function(e,t,r){"use strict";r("pNMO");r("yXV3");r("zKZe");r("5DmW");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i=a(r("q1tI"));var l=n(r("/tP0"));var i18n=a(r("HEOz"));function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function s(){s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return s.apply(this,arguments)}function u(e,t){if(e==null)return{};var r=c(e,t);var n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++){n=o[a];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function c(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var a,o;for(o=0;o<n.length;o++){a=n[o];if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var o=function e(t){var r=t.isComputerProgramming,n=u(t,["isComputerProgramming"]);var a=i18n._("Por favor consulta nuestras gu\u00edas de proyecto para que veas lo que consideramos un proyecto apropiado.");var o=[{name:"inappropriate",header:i18n._("abuso"),examples:[i18n._("Irrespetuoso u ofensivo"),i18n._("publicidad de servicios o empresas fuera del sitio")]},{name:"plagiarism",header:i18n._("plagio"),examples:[i18n._("no es un derivado y no da cr\u00e9dito al autor original")]},{name:"vote-soliciting",header:i18n._("solicitar votos"),examples:[i18n._("pedir votos"),i18n._("hacer promesas por votos"),i18n._("recibir votos de un anillo de votaci\u00f3n")]}];if(r){o.push({name:"using-disallowed",header:i18n._("usar funcionalidad vetada"),examples:[i18n._("acceder a componentes externos o al DOM para ir m\u00e1s all\u00e1 de las funciones permitidas"),i18n._("ejemplos: tocar sonidos inapropiadamente, usar localStorage")]})}o.push({name:"doesnotbelong",header:i18n._("fuera de tema"),examples:[i18n._("peticiones para cambiar de sitio"),i18n._("proyectos pol\u00e9micos acerca de pol\u00edtica, religi\u00f3n o ate\u00edsmo, o problemas personales")]});return i.createElement(l.default,s({},n,{bodyText:a,actions:o}))};var f=o;t.default=f},PS29:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.ModControls=void 0;var i=o(r("e2gc"));var l=a(r("q1tI"));var s=o(r("i8i4"));var u=o(r("F/us"));var c=a(r("4PhQ"));var f=r("XLNN");var p=o(r("mxj5"));var d=o(r("Xb39"));var i18n=a(r("HEOz"));var n=a(r("qgfM"));function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function o(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);return e}function y(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return b(e)}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return E(e,t)}function w(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var j=n.DiscussionItemModel;var P=function(e){O(o,e);function o(){var e;var t;h(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=y(this,(e=g(o)).call.apply(e,[this].concat(n)));w(b(t),"state",{clearedFlags:false});w(b(t),"handleClick",function(){t.props.model.clearFlags();t.setState({clearedFlags:true})});w(b(t),"handleMouseEnter",function(){var e=t.props.model.get("flaggedBy");var r=t.props.model.get("flags");var n=[];if(e){u.default.each(e,function(e,t){n.push({user:e,type:r[t]})})}else{n=u.default.map(r,function(e){return{type:e}})}(0,i.default)(s.default.findDOMNode(b(t))).qtip({content:{text:(0,p.default)({flags:n,arrowOnRight:true})},style:{classes:"custom-override flags-hovercard"},hide:{delay:100,fixed:true},position:{my:"top right",at:"bottom right"}})});return t}m(o,[{key:"render",value:function e(){var t=this.props.model.get("inQueue");var r=this.props.model.get("flags");if(this.state.clearedFlags){return l.createElement("span",null,i18n._("Marcas eliminadas"))}if(r.length){var n;if(t){n=i18n.ngettext({"lang": "es", "messages": ["Eliminar marca (C)", "Eliminar %(num)s marcas (C)"]},r.length)}else{n=i18n.ngettext({"lang": "es", "messages": ["Eliminar marca", "Eliminar %(num)s marcas"]},r.length)}return l.createElement("a",{href:"javascript:void(0);",onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,className:"clear-flags"},n)}if(t){return l.createElement("a",{href:"javascript:void(0);",className:"approve"},i18n._("(A)probar"))}throw new c.KAError("Flags was rendered when it has nothing to show",c.Errors.Internal)}}]);return o}(l.Component);var C=function(e){O(o,e);function o(){var e;var t;h(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=y(this,(e=g(o)).call.apply(e,[this].concat(n)));w(b(t),"skip",function(){c.default.log("TODO: Implement this handler")});return t}m(o,[{key:"render",value:function e(){if(!this.props.model.get("inQueue")){return null}return l.createElement("span",{onClick:this.skip},i18n._("Saltar"))}}]);return o}(l.Component);var k=function(e){O(o,e);function o(){var e;var t;h(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=y(this,(e=g(o)).call.apply(e,[this].concat(n)));w(b(t),"handleEdit",function(){t.props.model.set("editing",true)});return t}m(o,[{key:"render",value:function e(){return l.createElement("span",{className:"mod-tools__edit",onClick:this.handleEdit},this.props.model.get("inQueue")?i18n._("Editar (E)"):i18n._("Editar"))}}]);return o}(l.Component);var M=function(e){O(o,e);function o(){var e;var t;h(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=y(this,(e=g(o)).call.apply(e,[this].concat(n)));w(b(t),"handleUndelete",function(){t.props.model.undelete()});w(b(t),"handleDelete",function(){t.mountPoint=(0,i.default)("<div>").appendTo(document.body)[0];(0,d.default)(l.createElement(f.DeleteFeedbackModal,{model:t.props.model,onClose:t.handleClose}),t.mountPoint)});w(b(t),"handleClose",function(){s.default.unmountComponentAtNode(t.mountPoint);t.mountPoint=null});return t}m(o,[{key:"render",value:function e(){var t=this.props.model;if(t.get("deleted")){var r=["mod-tools__undelete",t.get("highlightDeleteButton")?"call-to-action":""].join(" ");return l.createElement("span",{className:r,onClick:this.handleUndelete},i18n._("Recuperar"))}return l.createElement("span",{className:"mod-tools__delete",onClick:this.handleDelete},t.get("inQueue")?i18n._("Borrar (D)"):i18n._("Eliminar"))}}]);return o}(l.Component);var N=function(e){O(t,e);function t(){h(this,t);return y(this,g(t).apply(this,arguments))}m(t,[{key:"render",value:function e(){var t=this.props.model;var r=!t.get("definitelyNotSpam")&&(t.get("flags").length||t.get("inQueue"))&&["flags",P];var n=t.get("inQueue")&&["skip",C];var a=t.isEditable()&&["edit",k];var o=!t.get("hideModDelete")&&["delete",M];var i=(0,f.joinWidgets)([r,n,a,o],this);return l.createElement("span",null,i)}}]);return t}(l.Component);t.ModControls=N},Rpnt:function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=d(r("q1tI"));var n=r("mR6N");var u=o(r("wa3X"));var c=r("JimW");var f=r("Vxy9");var p=r("Uafs");var i=o(r("mXPZ"));var l=r("skGw");var a=r("qgfM");var i18n=d(r("HEOz"));function o(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function h(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){j(t,e,r[e])})}return t}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function y(e,t,r){if(t)m(e.prototype,t);if(r)m(e,r);return e}function g(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return O(e)}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function O(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function E(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return w(e,t)}function j(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var P=function(e){E(o,e);function o(){var e;var r;v(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++){n[a]=arguments[a]}r=g(this,(e=b(o)).call.apply(e,[this].concat(n)));j(O(r),"state",{errorMessage:"",sendingVote:false,openModal:false,justVoted:false});j(O(r),"registerVote",function(){var t=i18n._("\u00a1Inicia sesi\u00f3n primero!");if(!i.default.isLoggedIn){return r.setState({errorMessage:t,openModal:true})}r.setState({sendingVote:true});(0,l.khanFetch)("/api/internal/discussions/voteentity",h({method:"POST"},(0,l.formUrlencode)({entity_key:r.props.model.id,vote_type:1}))).then(function(e){return e.json()}).then(function(e){if(e&&e.error){r.setState({errorMessage:e.error,openModal:true,sendingVote:false})}else{r.setState({justVoted:true,sendingVote:false})}}).catch(function(e){r.setState({errorMessage:t,openModal:true,sendingVote:false})})});j(O(r),"handleClose",function(){r.setState({openModal:false})});return r}y(o,[{key:"render",value:function e(){var n=this;var t=this.props.model;var r=!t.get("inUserProfile")&&!t.get("isScratchpadCard");if(!this.props.model.get("voteUpOnly")||!r){return null}var a=t.get("upVoted")||this.state.justVoted;var o=t.get("sumVotesIncremented");if(this.state.justVoted){o++}var i=a?i18n._("\u00a1Votado positivamente!"):i18n._("Vota");var l="".concat(i," â€¢ ").concat(o);return s.createElement(s.Fragment,null,s.createElement(u.default,{kind:"primary",onClick:this.registerVote,spinner:this.state.sendingVote,disabled:a},l),s.createElement(p.ModalLauncher,{onClose:this.handleClose,opened:this.state.openModal,modal:function e(t){var r=t.closeModal;return s.createElement(p.OnePaneDialog,{title:i18n._("\u00a1Ay caray!"),content:s.createElement(f.Body,null,n.state.errorMessage),footer:s.createElement(c.View,null,s.createElement(u.default,{kind:"primary",onClick:n.handleClose},i18n._("Bien"))),style:C.errorModal})}}))}}]);return o}(s.Component);var C=n.StyleSheet.create({errorModal:{maxHeight:250}});var k=P;t.default=k},XLNN:function(e,t,r){"use strict";r("ma9I");r("TeQF");r("2B1R");r("zKZe");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.Separator=t.DeleteFeedbackModal=t.joinWidgets=void 0;var i=f(r("e2gc"));var n=f(r("q1z7"));var a=c(r("q1tI"));var o=f(r("17x9"));var l=f(r("i8i4"));var s=f(r("F/us"));var u=f(r("cfQQ"));var i18n=c(r("HEOz"));function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function d(){d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return d.apply(this,arguments)}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);return e}function y(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return g(e)}function g(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return E(e,t)}var w=function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:j;return(0,s.default)(t).chain().filter(s.default.identity).map(function(e){var t=e[0],r=e[1];return a.createElement(r,{model:n.props.model,key:t})}).intersperse(function(e){return a.createElement("span",{key:"separator"+e},a.createElement(r,null)," ")}).value()};t.joinWidgets=w;var j=function(e){O(t,e);function t(){h(this,t);return y(this,b(t).apply(this,arguments))}m(t,[{key:"render",value:function e(){return a.createElement("span",d({},this.props,{className:"discussion-meta-separator "+(this.props.className||"")})," ")}}]);return t}(a.Component);var P=function(e){O(o,e);function o(){var e;var t;h(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=y(this,(e=b(o)).call.apply(e,[this].concat(n)));p(g(t),"handleDelete",function(){var e=t.props.profile;t.props.model.destroy({profile:e});t.handleCancel()});p(g(t),"handleCancel",function(){(0,i.default)(l.default.findDOMNode(g(t))).modal("hide");t.props.onClose()});return t}m(o,[{key:"componentDidMount",value:function e(){(0,i.default)(l.default.findDOMNode(this)).modal()}},{key:"render",value:function e(){return this.props.body.call(this)}}]);return o}(a.Component);p(P,"propTypes",{model:o.default.instanceOf(n.default.Model).isRequired,body:o.default.func,onClose:o.default.func});p(P,"defaultProps",{body:function e(){return a.createElement("div",{className:"modal danger-modal"},a.createElement("p",{className:"modal-body"},i18n._("\u00bfRealmente deseas eliminar?")),a.createElement("div",{className:"modal-footer"},a.createElement("span",{className:"pointer btn",onClick:this.handleCancel}," ",i18n._("Cancelar")," "),a.createElement("span",{className:"pointer btn btn-danger",onClick:this.handleDelete}," ",i18n._("Eliminar")," ")))},onClose:i.default.noop});var C=(0,u.default)(P);t.DeleteFeedbackModal=C;var k=j;t.Separator=k},gdZe:function(e,t,r){"use strict";r("pNMO");r("4Brf");r("ma9I");r("TeQF");r("fbCW");r("2B1R");r("5DmW");r("NBAS");r("FZtP");r("vxnP");Object.defineProperty(t,"__esModule",{value:true});t.DiscussionMeta=t.Note=t.DiscussionListContent=t.TabbedDiscussionList=t.ProjectEvalReviewContent=t.ProjectEvalStatusViewer=t.EditContentForm=t.FormattingTips=void 0;var l=M(r("e2gc"));var h=k(r("q1tI"));var i=M(r("i8i4"));var s=M(r("F/us"));var u=M(r("TSYQ"));var n=r("Pk2J");var a=r("g8Be");var c=M(r("E9A0"));var o=M(r("Zh9m"));var v=r("XLNN");var f=r("4Arr");var p=M(r("nVHT"));var d=M(r("wINb"));var m=M(r("dFiz"));var y=M(r("cfQQ"));var g=M(r("vRNn"));var b=M(r("Xb39"));var O=r("PS29");var E=M(r("3aD9"));var w=M(r("Rpnt"));var j=M(r("6/KF"));var P=r("qgfM");var i18n=k(r("HEOz"));var C=M(r("BIos"));function k(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function M(e){return e&&e.__esModule?e:{default:e}}function N(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){S(t,e,r[e])})}return t}function S(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function T(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function D(e,t,r){if(t)F(e.prototype,t);if(r)F(e,r);return e}function x(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return I(e)}function I(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function A(e){A=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return A(e)}function R(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)V(e,t)}function V(e,t){V=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return V(e,t)}var q=function(e){R(t,e);function t(){T(this,t);return x(this,A(t).apply(this,arguments))}D(t,[{key:"render",value:function e(){var t=i18n._("Resalta tus publicaciones con *negritas* o _cursivas_ y dale formato al 'c\u00f3digo'");return h.createElement("div",{className:"formatting-tips-container"},h.createElement("div",{className:"formatting-tips-triangle"}),h.createElement("div",{className:"formatting-tips-panel"},h.createElement("table",null,h.createElement("tbody",null,h.createElement("tr",{className:"discussion-guidelines-format-table-header"},h.createElement("td",null,i18n._("Escribir esto:")),h.createElement("td",null,i18n._("Mostrar esto:"))),h.createElement("tr",{className:"discussion-guidelines-format-table"},h.createElement("td",null,t,h.createElement("pre",null,i18n.doNotTranslate("```if (x < 0) {\n    return;\n}```"))),h.createElement("td",null,h.createElement("span",{dangerouslySetInnerHTML:{__html:(0,f.formatContent)(t)}}),h.createElement("pre",null,h.createElement("code",null,i18n.doNotTranslate("if (x < 0) {\n    return;\n}")))))))))}}]);return t}(h.Component);t.FormattingTips=q;var U=function(e){R(a,e);function a(){var e;var o;T(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}o=x(this,(e=A(a)).call.apply(e,[this].concat(r)));S(I(o),"state",{text:o.props.model.getTextContent(),isSaving:false});S(I(o),"handleTextChange",function(e){o.setState({text:e.currentTarget.value})});S(I(o),"handleSubmit",function(){var e=o.props.model;if(o.state.text!==""){var t=c.default.LegacyRequireIfLoaded["ScratchpadUIModule"];if(t){var r=t.ScratchpadUI;if(r.scratchpad&&r.isSaveable()&&r.hasUnsavedChanges()){var n=window.confirm(i18n._("Queremos asegurarnos de que tu c\u00f3digo est\u00e1 actualizado, \u00bfpodemos guardarlo?"));if(n){r.triggerSave()}else{return}}}e.set({text:o.state.text,content:o.state.text});var a=o.props.collection&&o.props.collection.findDuplicate(e);if(a){a.markDuplicate();o.props.onDuplicate&&o.props.onDuplicate()}else{o.setState({isSaving:true});e.save({},{success:function(e){this.setState({isSaving:false});if(e.get("lowQualityNotice")){this.forceUpdate();return}this.props.onSave()}.bind(I(o))})}}});return o}D(a,[{key:"render",value:function e(){var r=this;var t=[""];var n={header:null,footer:null};if(this.props.model.get("lowQualityNotice")){n=(0,j.default)(this.props.model.get("lowQualityNotice"));t.push("low-quality-notice");this._needsToFocus=true}return h.createElement("div",{className:"edit-content-form"},h.createElement("div",{className:t.join(" ")},this.props.guidelines,n.header,h.createElement("textarea",{className:"edit-content-form__textarea",onChange:this.handleTextChange,onFocus:this.props.onFocus,ref:function e(t){return r.input=t},value:this.state.text}),n.footer,this.props.hideControls?null:h.createElement(B,{label:this.props.buttonLabel,onCancel:this.props.onCancel,onSubmit:this.handleSubmit,isSaving:this.state.isSaving})))}},{key:"componentDidMount",value:function e(){if(this.input){this.input.focus()}}},{key:"componentDidUpdate",value:function e(){if(this.props.focus||this._needsToFocus){if(this.input){this.input.focus()}this._needsToFocus=false}}}]);return a}(h.Component);t.EditContentForm=U;S(U,"defaultProps",{guidelines:null,buttonLabel:i18n._("Guardar")});var B=function(e){R(o,e);function o(){var e;var t;T(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=x(this,(e=A(o)).call.apply(e,[this].concat(n)));S(I(t),"state",{showFormattingTips:false});S(I(t),"toggleFormattingTips",function(){t.setState({showFormattingTips:!t.state.showFormattingTips})});S(I(t),"handleKeyPress",function(e){if(e.keyCode===13||e.keyCode===32){e.preventDefault();t.props.onCancel()}});return t}D(o,[{key:"render",value:function e(){var t=h.createElement(p.default,null);return h.createElement("div",{className:"edit-content-form__controls"},h.createElement("div",{className:"edit-content-form__left"},h.createElement("a",{className:"edit-content-form__formatting-tips",href:"javascript:void 0",onClick:this.toggleFormattingTips},i18n._("Consejos para formatear"))),h.createElement("div",{className:"edit-content-form__right"},this.props.isSaving?t:null,h.createElement("input",{className:"simple-button primary edit-content-form__submit",type:"button",value:this.props.label,disabled:this.props.isSaving,onClick:this.props.onSubmit}),h.createElement("a",{className:"edit-content-form__cancel",onClick:this.props.onCancel,onKeyPress:this.handleKeyPress,href:"javascript:void(0);",tabIndex:0},i18n._("Cancelar"))," "+i18n._("o")+" "),this.state.showFormattingTips&&h.createElement(q,null))}}]);return o}(h.Component);var H=function(e){R(t,e);function t(){T(this,t);return x(this,A(t).apply(this,arguments))}D(t,[{key:"render",value:function e(){var t=(0,s.default)(this.props.model.get("badges")).map(function(e,t){return h.createElement("img",{key:t,className:"discussion-badge-icon",title:e.translatedDescription,src:(0,d.default)((0,f.stripProtocol)(e.iconSrc)),alt:e.translatedDescription})});return h.createElement("span",{className:"discussion-badges"},t)}}]);return t}(h.Component);var W=function(e){R(t,e);function t(){T(this,t);return x(this,A(t).apply(this,arguments))}D(t,[{key:"render",value:function e(){return h.createElement("span",null,i18n.ngettext({"lang": "es", "messages": ["%(num)s derivado", "%(num)s derivados"]},this.props.model.get("spinoffCount")))}}]);return t}(h.Component);var L=function(e){R(t,e);function t(){T(this,t);return x(this,A(t).apply(this,arguments))}D(t,[{key:"render",value:function e(){var t;if(this.props.model.isPassingEvalAnswer()){if(this.props.isProgramOwner){t=i18n._("Tu proyecto ha pasado la evaluaci\u00f3n.")}else{t=i18n._("Este proyecto ha pasado la evaluaci\u00f3n.")}}else{if(this.props.isProgramOwner){t=i18n._("Tu proyecto necesita m\u00e1s trabajo.")}else{t=i18n._("Este proyecto necesita m\u00e1s trabajo.")}}return h.createElement("div",{className:"eval-title"},t)}}]);return t}(h.Component);t.ProjectEvalStatusViewer=L;var z=function(e){R(o,e);function o(){var e;var t;T(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=x(this,(e=A(o)).call.apply(e,[this].concat(n)));S(I(t),"getOverallInfoElement",function(e){var t=e.filter(".overall-eval-info").text();var r=t.length>0?h.createElement("div",{className:"more-info"},h.createElement("strong",null,i18n._("Del evaluador:")),h.createElement("div",{dangerouslySetInnerHTML:{__html:(0,f.formatContent)(t,true)}})):null;return r});return t}D(o,[{key:"render",value:function e(){var t=(0,l.default)(l.default.parseHTML(this.props.model.get("content")));var r=l.default.makeArray(t.filter("li:not(.pass)"));if(this.props.model.isPassingEvalAnswer()){var n=this.getOverallInfoElement(t);if(!n){return null}return h.createElement("div",null,n)}var a=r.map(function(e,t){var r=(0,l.default)(e).find("div");var n=r.text().length>0?h.createElement("div",{className:"objective-more-info",dangerouslySetInnerHTML:{__html:(0,f.formatContent)(r.text(),true)}}):null;r.empty();return h.createElement("li",{key:"objective-"+t},h.createElement("div",{className:"failed-objective-item"},h.createElement("strong",null,(0,l.default)(e).text())),n)});return h.createElement("div",null,this.getOverallInfoElement(t),h.createElement("div",{className:"failed-objectives"},h.createElement("strong",null,i18n._("Los siguientes objetivos necesitan mas trabajo:")),h.createElement("ul",{className:"styled-list"},a)))}}]);return o}(h.Component);t.ProjectEvalReviewContent=z;var Q=function(e){R(o,e);function o(){var e;var t;T(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=x(this,(e=A(o)).call.apply(e,[this].concat(n)));S(I(t),"state",{currentTab:0});S(I(t),"handleTabClick",function(e){t.setState({currentTab:e})});return t}D(o,[{key:"render",value:function e(){var t=this.props.listType;var r=(0,s.default)(this.props.labels).map(function(e,t){var r=(0,u.default)({selected:t===this.state.currentTab});return h.createElement("a",{className:r,key:t,onClick:(0,s.default)(this.handleTabClick).partial(t),href:"javascript:void(0);"},e)},this);var n=this.props.collections[this.state.currentTab];var a=h.createElement(J,{key:this.state.currentTab,showFocus:true,showEmptyMessage:true,showRefresh:true,collection:n,listType:t});var o=h.createElement("div",{className:"discussion-list-header"},h.createElement("span",{className:"discussion-list-sort"},r));return h.createElement("div",{className:"discussion-list"},o,a)}}]);return o}(h.Component);t.TabbedDiscussionList=Q;var K=function(e){R(o,e);function o(){var e;var t;T(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=x(this,(e=A(o)).call.apply(e,[this].concat(n)));S(I(t),"state",{fetchedInitial:false,fetchingMore:false,fetchingNew:false,minutesElapsed:0,lastFetchTime:0});S(I(t),"handleMoreClick",function(){t.setState({fetchingMore:true});t.fetchCollection()});S(I(t),"handleRefreshClick",function(){t.setState({fetchingNew:true});t.props.collection.cursor=null;t.fetchCollection(true)});return t}D(o,[{key:"renderItems",value:function e(){var t=this;var r=this.props,n=r.collection,a=r.listType,o=r.profile;var i=n.models.filter(function(e){return!t.props.excludeProjectEval||!e.isProjectEval()}).map(function(e){return e.toJSON()}).map(function(e){return N({},e,{authorAvatarSrc:e.author.avatarSrc,authorKaid:e.author.kaid,authorNickname:e.author.nickname})});var l=Boolean(o&&o.get("isChildAccount"));return h.createElement(C.default,{topicSlug:"",newPostKey:"",cursor:"",tab:a,posts:i,isComplete:true,discussionContext:{restrictPosting:l}})}},{key:"render",value:function e(){if(!this.state.fetchedInitial){return h.createElement(p.default,null)}if(this.props.collection.size()===0){return h.createElement("div",{className:"discussion-list"},this.props.showEmptyMessage?i18n._("Todas las peticiones han sido entregadas."):null)}var t=null;if(this.state.fetchingNew){t=h.createElement("span",{className:"discussion-list-refresh"},i18n._("Comprobando actualizaciones..."))}else if(this.state.minutesElapsed>=2){var r=i18n.ngettext({"lang": "es", "messages": ["%(num)s minuto desde la \u00faltima vez que revisamos si hab\u00eda actualizaciones.", "%(num)s minutos desde la \u00faltima vez que revisamos si hab\u00eda actualizaciones."]},this.state.minutesElapsed);t=h.createElement("a",{className:"discussion-list-refresh",href:"javascript:void(0);",onClick:this.handleRefreshClick},r,h.createElement("span",{className:"icon-refresh"}),i18n._("Haz clic para actualizar"))}var n=h.createElement("button",{onClick:this.handleMoreClick,type:"button",className:"simple-button discussion-list-more"},i18n._("Mostrar m\u00e1s comentarios"));var a=h.createElement("button",{className:"simple-button discussion-list-more",disabled:true},i18n._("Cargando..."));var o=this.state.fetchingMore?a:n;var i=this.renderItems();return h.createElement("div",null,t,i,this.props.collection.isComplete()?null:o)}},{key:"componentDidMount",value:function e(){var r=this;this.fetchCollection();if(this.props.showRefresh){this.props.schedule.interval(function(){if(r.props.collection.autoRefresh){r.handleRefreshClick()}else{var e=(new Date).getTime()-r.state.lastFetchTime;var t=Math.floor(e/1e3/60);r.setState({minutesElapsed:t})}},1e3*60)}}},{key:"componentDidUpdate",value:function e(){if(this.state.fetchedInitial&&this.props.expandKey){var t=this.props.expandKey;var r=(0,l.default)(i.default.findDOMNode(this)).find("#"+t);if(!r.length){return}r.addClass("highlight success-highlight");(0,l.default)("html, body").animate({scrollTop:r.offset().top-10});this.props.expandKey=undefined}}},{key:"fetchCollection",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=function(){this.setState({fetchedInitial:true,fetchingMore:false,fetchingNew:false,minutesElapsed:0,lastFetchTime:(new Date).getTime()});if(!this.props.collection.fetchedInitial){this.props.collection.fetchedInitial=true;this.props.collection.trigger("change")}}.bind(this);this.props.collection.fetch({remove:t||false,reset:t||false,success:r,error:r})}}]);return o}(h.Component);S(K,"defaultProps",{showFocus:false,showEmptyMessage:false,showRefresh:false});var J=(0,n.compose)(y.default,a.withActionScheduler,(0,m.default)(function(e){return[e.collection]}))(K);t.DiscussionListContent=J;var X=function(e){R(i,e);function i(e){var t;T(this,i);t=x(this,A(i).call(this,e));var r=0;var n=0;if(e.parent){var a=(0,l.default)(e.parent);var o=a.offset();r=o.left+a.outerWidth(true)/2-172/2;n=o.top+a.outerHeight(true)/2-62/2}t.state={left:r,top:n};return t}D(i,[{key:"render",value:function e(){var t={left:this.state.left,top:this.state.top};return h.createElement("div",{className:"discussion-meta-note",style:t},h.createElement("span",null,this.props.description+" "),h.createElement("a",{className:"discussion-meta-note__close",href:"javascript:void(0);",onClick:this.props.onClose},i18n._("Cerrar")))}}]);return i}(h.Component);t.Note=X;var Z=function(e){R(o,e);function o(){var e;var t;T(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=x(this,(e=A(o)).call.apply(e,[this].concat(n)));S(I(t),"handleReplyClick",function(){var e=t.props.model.get("replyCountOpen");t.props.model.set("replyCountOpen",!e)});return t}D(o,[{key:"render",value:function e(){var t=this.props.model;var r=i18n.ngettext({"lang": "es", "messages": ["%(num)s comentario", "%(num)s comentarios"]},t.get("replyCount"));if(!t.get("restrictPosting")&&t.get("replyCount")===0){r=i18n._("Comentar")}return h.createElement("a",{className:"reply-count",href:"javascript:void(0);",onClick:this.handleReplyClick},r)}}]);return o}(h.Component);var Y=function(e){R(o,e);function o(){var e;var t;T(this,o);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++){n[a]=arguments[a]}t=x(this,(e=A(o)).call.apply(e,[this].concat(n)));S(I(t),"handleEdit",function(){t.props.model.set("editing",true)});S(I(t),"handleDelete",function(){t.mountPoint=(0,l.default)("<div>").appendTo(document.body)[0];(0,b.default)(h.createElement(v.DeleteFeedbackModal,{model:t.props.model,onClose:t.handleClose}),t.mountPoint)});S(I(t),"handleClose",function(){i.default.unmountComponentAtNode(t.mountPoint);t.mountPoint=null});return t}D(o,[{key:"render",value:function e(){var t=null;if(this.props.model.isEditable()){t=[h.createElement("a",{className:"mod-tools__edit",href:"javascript:void(0);",onClick:this.handleEdit,key:"edit"},i18n._("Editar")),h.createElement(v.Separator,{key:"separator"})]}return h.createElement("span",{className:"mod-tools"},t,h.createElement("a",{className:"mod-tools__delete",href:"javascript:void(0);",onClick:this.handleDelete,key:"delete"},i18n._("Eliminar")))}}]);return o}(h.Component);var G=function(e){R(t,e);function t(){T(this,t);return x(this,A(t).apply(this,arguments))}D(t,[{key:"render",value:function e(){var t=this.props.model;var r=t.get("focusUrl")+"?qa_expand_key="+t.id;return h.createElement("a",{href:r},h.createElement(g.default,{time:t.get("date")}))}}]);return t}(h.Component);var $=function(e){R(t,e);function t(){T(this,t);return x(this,A(t).apply(this,arguments))}D(t,[{key:"render",value:function e(){var t=this.props.model;var r=t.get("focus");if(r.kind==="youtubevideo"){return h.createElement("span",null)}var n=null;if(t.canHaveAnswers()&&t.getThumbnailUrl()){n=h.createElement("a",{href:t.getFocusUrlWithExpandKey(),className:"discussion-item-thumbnail"},h.createElement("img",{src:(0,d.default)(t.getThumbnailUrl()),alt:r.translatedTitle}))}return h.createElement("span",null,h.createElement("span",{className:"discussion-meta-faded"}," "+i18n._("sobre")+" "),h.createElement("a",{href:t.getFocusUrlWithExpandKey()},r.translatedTitle),n)}}]);return t}(h.Component);var ee=function(e){R(t,e);function t(){T(this,t);return x(this,A(t).apply(this,arguments))}D(t,[{key:"render",value:function e(){return h.createElement("span",null,h.createElement("span",{className:"discussion-meta-faded"}," "+i18n._("de")+" "),h.createElement(o.default,{user:this.props.model.get("author")}))}}]);return t}(h.Component);var te=function(e){R(t,e);function t(){T(this,t);return x(this,A(t).apply(this,arguments))}D(t,[{key:"render",value:function e(){var t=this.props,r=t.model,n=t.profile;var a=r.get("badges").length&&["badges",H];var o=null;if(r.canHaveVotes()){o=["voting",w.default]}var i=r.get("spinoffCount")&&["spinoff-count",W];var l=null;if(!r.get("inUserProfile")&&r.canHaveReplies()){l=["reply-count",Z]}var s;if(n&&n.get("isModerator")){s=["mod-controls",O.ModControls]}else if(r.get("showAuthorControls")){if(r.isEditable()){s=["author-controls",Y]}}else if(r.isFlaggable()){s=["flag-controls",E.default]}var u=(0,v.joinWidgets)([a,o,i,l,s],this);var c=null;var f=null;var p=null;if(r.get("type")!=="scratchpad"&&!r.isProjectEvalAnswer()){c=["permalink",G];f=r.get("focus")&&this.props.showFocus&&["on-focus",$];p=!r.get("inUserProfile")&&["by-author",ee]}var d=(0,v.joinWidgets)([c,p,f],this,"span");return h.createElement("div",null,h.createElement("div",{className:"discussion-meta"},h.createElement("div",{className:"discussion-meta-controls"},u),h.createElement("div",{className:"discussion-meta-info"},d)))}}]);return t}(h.Component);S(te,"defaultProps",{showFocus:false});var re=(0,n.compose)((0,m.default)(function(e){var t=[];if(e.model.canHaveAnswers()){var r=P.DiscussionItemCollection.fromItemAnswers(e.model);t.push(r)}if(e.model.canHaveReplies()){var n=P.ReplyCollection.fromItem(e.model);n.bind("add remove",function(){return e.model.set("replyCount",n.length)})}t.push(e.model);return t}),y.default)(te);t.DiscussionMeta=re},mxj5:function(e,t,r){"use strict";r("ma9I");r("5DmW");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=o(r("7JHY"));var i18n=a(r("HEOz"));function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function o(e){return e&&e.__esModule?e:{default:e}}var i=n.default.compile('<div class="hover-card-container">\n    <div class="hover-card-triangle {{#if arrowOnRight}}right{{/if}}"></div>\n    <div class="hover-card-content-container vertical-shadow">\n        <div class="hover-card-content clearfix">\n            <h4 class="pulls">\n                '.concat(i18n._("Marcas:"),'\n            </h4>\n            <ul class="flagged-by-users">\n            {{#each flags}}\n                <li class="sample-content-link">\n                    {{#if user}}\n                        <a href="/devadmin/users/{{user}}">{{user}}</a>\n                    {{else}}\n                        ').concat(i18n._("Usuario desconocido o eliminado"),'\n                    {{/if}}\n                    - <span class="flag-type">{{type}}</span>\n                </li>\n            {{/each}}\n            </ul>\n        </div>\n    </div>\n</div>'));t.default=i}}]);
//# sourceMappingURL=../../sourcemaps/en/5f316678acb1606aa3481800c78c5264.900ca0f4cd92b3d9326f.js.map