(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["09851e890700f744b62aa26d55dffa35"],{"9Ji0":function(e,t,r){"use strict";r("pNMO");r("ma9I");r("TeQF");r("2B1R");r("5DmW");r("NBAS");r("FZtP");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var l=a(r("q1tI"));var i=r("mR6N");var n=o(r("Pwnf"));var u=o(r("SGU3"));var c=r("Vxy9");var s=r("JimW");var i18n=a(r("HEOz"));var f=o(r("wINb"));var p=r("whzC");function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function d(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};var n=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))}n.forEach(function(e){S(t,e,r[e])})}return t}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function b(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}function v(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return j(e)}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}function j(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)w(e,t)}function w(e,t){w=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return w(e,t)}function S(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var O=function(e){g(a,e);function a(){var e;var t;m(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}t=v(this,(e=y(a)).call.apply(e,[this].concat(n)));S(j(t),"renderScreenshot",function(e){return l.createElement(s.View,null,l.createElement("a",{href:e.url,target:"_blank"},l.createElement("img",{className:(0,i.css)(k.screenshot),alt:"",src:(0,f.default)(e.thumb)})),l.createElement(u.default,{href:e.url,skipClientNav:true},l.createElement(c.LabelLarge,{style:k.title},e.translatedTitle)))});S(j(t),"renderAuthorName",function(e){if(!e.authorKaid){return e.authorNickname}var t="/profile/".concat(e.authorKaid);return l.createElement(u.default,{href:(0,p.safeLinkTo)(t),skipClientNav:true},l.createElement(c.LabelSmall,{style:k.author},e.authorNickname))});S(j(t),"renderDetails",function(e){return l.createElement(s.View,{style:k.stats},i18n.ngettext({"lang": "es", "messages": ["%(num)s voto", "%(num)s votos"]},e.sumVotesIncremented)," ","Â·"," ",i18n.ngettext({"lang": "es", "messages": ["%(num)s derivado", "%(num)s derivados"]},e.spinoffCount))});return t}b(a,[{key:"render",value:function e(){var t=this.props.project;return l.createElement(s.View,{style:k.project},this.renderScreenshot(t),this.renderAuthorName(t),this.renderDetails(t))}}]);return a}(l.Component);var P=function(e){g(t,e);function t(){m(this,t);return v(this,y(t).apply(this,arguments))}b(t,[{key:"render",value:function e(){var t=this.props.projects.map(function(e,t){return l.createElement(O,{key:e.url,project:e})});return l.createElement("div",{className:(0,i.css)(k.module)},t)}}]);return t}(l.Component);var E={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:200};var k=i.StyleSheet.create({module:{overflow:"hidden"},project:{float:"left",marginBottom:22,marginRight:32},screenshot:{border:"1px solid ".concat(n.default.offBlack16),boxSizing:"border-box",height:200,width:200},title:d({},E),author:d({},E),stats:{color:n.default.offBlack64}});var M=P;t.default=M},ZaqX:function(e,t,r){"use strict";r("ma9I");r("2B1R");r("ToJy");r("5DmW");r("NBAS");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=b(r("q1tI"));var a=r("mR6N");var l=h(r("wa3X"));var n=h(r("Pwnf"));var i=r("JimW");var u=r("Vxy9");var c=r("JasB");var s=r("vwLt");var f=r("yhei");var p=r("skGw");var d=h(r("9Ji0"));var m=h(r("SLeZ"));var i18n=b(r("HEOz"));function h(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};if(n.get||n.set){Object.defineProperty(t,r,n)}else{t[r]=e[r]}}}}t.default=e;return t}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function j(e,t,r){if(t)y(e.prototype,t);if(r)y(e,r);return e}function g(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}return S(e)}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return w(e)}function S(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)P(e,t)}function P(e,t){P=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return P(e,t)}function E(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var k={top:{name:i18n._("Los mejores"),value:1},recent:{name:i18n._("Recientes"),value:2},hot:{name:i18n._("Novedoso"),value:3},spotlight:{name:i18n._("Concursos"),value:4},votes:{name:i18n._("Votos"),value:5},oldest:{name:i18n._("El m\u00e1s viejo"),value:6}};var M=function(e){O(t,e);function t(e){var n;v(this,t);n=g(this,w(t).call(this,e));E(S(n),"getProjectsURL",function(){var e={sort:k[n.state.sort].value,page:n.state.page,limit:n.props.numPerPage,subject:n.state.subject||"all"};if(n.props.topicId){e.topic_id=n.props.topicId}if(n.props.curriculum){e.curriculum=n.props.curriculum}if(n.state.cursor){e.cursor=n.state.cursor}if(n.state.projectStatus){e.projectState=n.state.projectStatus}return"".concat(n.props.url,"&").concat((0,p.encodeParams)(e))});E(S(n),"loadMoreProjects",function(){var r=n.props.onFullyInteractive;if(n.state.loading){return}if(n._isMounted){n.setState({error:null,loading:true})}(0,p.khanFetch)(n.getProjectsURL()).then(function(e){return e.json()}).then(function(e){var t=(n.state.projects||[]).concat(e.scratchpads);if(n._isMounted){n.setState({projects:t,complete:e.complete,page:n.state.page+1,cursor:e.cursor,loading:false})}if(r){r()}}).catch(function(){if(n._isMounted){n.setState({error:i18n._("Error al cargar los proyectos, por favor intenta de nuevo."),loading:false})}})});E(S(n),"changeSubject",function(e){if(n._isMounted){n.setState({complete:false,cursor:"",page:0,projects:null,subject:e},function(){return n.loadMoreProjects()})}});E(S(n),"changeProjectStatus",function(e){if(n._isMounted){n.setState({complete:false,cursor:"",page:0,projects:null,projectStatus:e},function(){return n.loadMoreProjects()})}});E(S(n),"renderSubjects",function(){if(!n.props.subjects){return null}var e=n.props.subjects.sort(function(e,t){return e.translatedTitle.localeCompare(t.translatedTitle)}).map(function(e){return o.createElement(s.OptionItem,{label:e.translatedTitle,value:e.id,key:e.id})});return o.createElement(s.SingleSelect,{onChange:n.changeSubject,placeholder:"Filter by course...",selectedValue:n.state.subject,style:B.dropdown},e)});E(S(n),"renderProjectStatusFilter",function(){if(!n.props.showProjectStatusFilter){return null}return o.createElement(i.View,null,o.createElement(m.default,null),o.createElement(s.SingleSelect,{onChange:n.changeProjectStatus,placeholder:"Filter by project status",selectedValue:n.state.projectStatus||"all",style:B.dropdown},o.createElement(s.OptionItem,{label:i18n._("Todos los proyectos"),value:"all"}),o.createElement(s.OptionItem,{label:i18n._("only spin-offs of official projects"),value:"official-spinoffs"})))});E(S(n),"changeSort",function(e){if(n._isMounted){n.setState({complete:false,cursor:"",page:0,projects:null,sort:e},function(){return n.loadMoreProjects()})}});E(S(n),"renderSorts",function(){if(n.props.sorts.length===0){return null}return o.createElement(i.View,{style:B.sorts},n.props.sorts.map(function(t){return o.createElement(l.default,{kind:"tertiary",onClick:function e(){return n.changeSort(t)},disabled:n.state.loading||t===n.state.sort,key:k[t].value,style:B.sortButton},k[t].name)}))});E(S(n),"renderFilterBar",function(){if(n.props.hideFilterBar){return null}return o.createElement(i.View,{style:B.filterBar},n.renderTitle(),n.renderProjectStatusFilter(),n.renderSubjects(),o.createElement(c.Spring,null),n.renderSorts())});E(S(n),"renderNotice",function(){if(n.props.hideNotice){return null}return o.createElement(i.View,{style:B.noticeWrap},o.createElement(u.LabelSmall,{style:B.notice},i18n._("Nota: no mostramos proyectos que no tienen cambios, que son hechos por cuentas infantiles o son de usuarios an\u00f3nimos.")))});E(S(n),"renderError",function(){if(!n.state.error){return null}return o.createElement("p",{className:(0,a.css)(B.error)},n.state.error)});E(S(n),"renderShowMoreButton",function(){if(n.props.static||n.state.complete){return null}return o.createElement(i.View,{style:B.showMore},o.createElement(l.default,{onClick:function e(){return n.loadMoreProjects()},disabled:n.state.loading,kind:"secondary"},i18n._("Mostrar m\u00e1s proyectos")),n.renderError())});E(S(n),"renderTitle",function(){if(!n.props.title){return null}return o.createElement("h3",{className:(0,a.css)(B.title)},n.props.title)});n.state={loading:false,complete:false,cursor:"",error:null,page:0,projects:null,projectStatus:null,sort:e.defaultSort,subject:null};n._isMounted=false;return n}j(t,[{key:"componentDidMount",value:function e(){this._isMounted=true;this.clearAndLoadProjects()}},{key:"componentDidUpdate",value:function e(t){if(t.url!==this.props.url){this.clearAndLoadProjects()}}},{key:"componentWillUnmount",value:function e(){this._isMounted=false}},{key:"clearAndLoadProjects",value:function e(){this.setState({projects:[]});this.loadMoreProjects()}},{key:"render",value:function e(){var t=this.state.projects;if(!t){return o.createElement(i.View,null,this.renderFilterBar(),this.renderError(),!this.state.error&&o.createElement(f.CircularSpinner,null))}if(t.length===0){return o.createElement(i.View,null,this.renderFilterBar(),this.props.noResults(this.state.subject))}return o.createElement(i.View,null,this.renderFilterBar(),o.createElement(d.default,{projects:t}),this.state.loading&&o.createElement(f.CircularSpinner,null),this.renderError(),this.renderNotice(),this.renderShowMoreButton())}}]);return t}(o.Component);E(M,"defaultProps",{defaultSort:"top",noResults:function e(){return null},numPerPage:30,sorts:["top","recent"],subjects:null});var B=a.StyleSheet.create({title:{lineHeight:"37px",marginBottom:0,verticalAlign:"bottom"},dropdown:{width:350},filterBar:{flexDirection:"row",borderBottom:"1px solid ".concat(n.default.offBlack16),marginBottom:22,paddingBottom:10},sorts:{flexDirection:"row"},sortButton:{marginLeft:10},error:{color:n.default.red},noticeWrap:{color:n.default.offBlack64,margin:"22px 0",textAlign:"center"},notice:{margin:"0 auto",maxWidth:450,textAlign:"left"},showMore:{alignItems:"center",borderTop:"1px solid ".concat(n.default.offBlack16),marginTop:22,paddingTop:12}});var N=M;t.default=N}}]);
//# sourceMappingURL=../../sourcemaps/en/09851e890700f744b62aa26d55dffa35.e4fabe9e2d335591212f.js.map