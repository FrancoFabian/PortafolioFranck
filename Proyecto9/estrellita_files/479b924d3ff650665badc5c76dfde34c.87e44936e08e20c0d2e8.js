(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["479b924d3ff650665badc5c76dfde34c"],{vAdI:function(e,r,n){"use strict";n("pNMO");n("ma9I");n("TeQF");n("yXV3");n("+2oP");n("3KgV");n("5DmW");n("07d7");n("5s+n");n("FZtP");Object.defineProperty(r,"__esModule",{value:true});r.signupDistrictsWithPassword=r.getDistrictsWithPasswordErrorMessageByCode=r.SIGNUP_DISTRICTS_WITH_PASSWORD_MUTATION=r.signupUnderAgeGate=r.getSignupUnderAgeGateErrorMessageByCode=r.SIGNUP_UNDER_AGE_GATE_MUTATION=r.signupWithPassword=r.SIGNUP_ADULT_WITH_PASSWORD_MUTATION=r.SIGNUP_LEARNER_WITH_PASSWORD_MUTATION=r.getErrorMessageByCode=void 0;n("ls82");var t=u(n("lTCR"));var a=o(n("q1tI"));var s=u(n("SGU3"));var c=n("4PhQ");var l=n("o1mU");var i18n=o(n("HEOz"));var i=u(n("0inE"));var d=n("MVfM");var I=n("c+8j");function o(e){if(e&&e.__esModule){return e}else{var r={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var t=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(t.get||t.set){Object.defineProperty(r,n,t)}else{r[n]=e[n]}}}}r.default=e;return r}}function u(e){return e&&e.__esModule?e:{default:e}}function A(){var r=N(['\n    mutation signupDistrictsWithPasswordMutation(\n        $email: String!\n        $password: String!\n        $firstname: String!\n        $lastname: String!\n        $role: UserRole\n        $birthdate: Date\n    ) {\n        signupDistrictsWithPassword(\n            email: $email\n            password: $password\n            firstname: $firstname\n            lastname: $lastname\n            role: $role\n            birthdate: $birthdate\n        ) {\n            user {\n                id\n                kaid\n                canAccessDistrictsHomepage\n                isTeacher\n                hasUnresolvedInvitations\n                transferAuthUrl(pathname: "")\n                preferredKaLocale {\n                    id\n                    kaLocale\n                }\n            }\n            error {\n                code\n            }\n        }\n    }\n']);A=function e(){return r};return r}function f(e,r,n,t,a,s,i){try{var o=e[s](i);var u=o.value}catch(e){n(e);return}if(o.done){r(u)}else{Promise.resolve(u).then(t,a)}}function p(o){return function(){var e=this,i=arguments;return new Promise(function(r,n){var t=o.apply(e,i);function a(e){f(t,r,n,a,s,"next",e)}function s(e){f(t,r,n,a,s,"throw",e)}a(undefined)})}}function E(){var r=N(['\n    mutation signupUnderAgeGateMutation(\n        $username: String!\n        $password: String!\n        $birthdate: Date!\n        $parentEmail: String!\n        $signupCodes: [String]\n    ) {\n        signupUnderAgeGate(\n            username: $username\n            password: $password\n            birthdate: $birthdate\n            parentEmail: $parentEmail\n            signupCodes: $signupCodes\n        ) {\n            user {\n                id\n                kaid\n                canAccessDistrictsHomepage\n                isTeacher\n                hasUnresolvedInvitations\n                transferAuthUrl(pathname: "")\n                preferredKaLocale {\n                    id\n                    kaLocale\n                }\n                studentLists {\n                    id\n                    cacheId\n                    signupCode\n                }\n            }\n            error {\n                code\n            }\n        }\n    }\n']);E=function e(){return r};return r}function g(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var t=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){t=t.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))}t.forEach(function(e){h(r,e,n[e])})}return r}function h(e,r,n){if(r in e){Object.defineProperty(e,r,{value:n,enumerable:true,configurable:true,writable:true})}else{e[r]=n}return e}function T(e,r){if(e==null)return{};var n=D(e,r);var t,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++){t=s[a];if(r.indexOf(t)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,t))continue;n[t]=e[t]}}return n}function D(e,r){if(e==null)return{};var n={};var t=Object.keys(e);var a,s;for(s=0;s<t.length;s++){a=t[s];if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function S(){var r=N(['\n    mutation signupAdultWithPasswordMutation(\n        $email: String!\n        $password: String!\n        $firstname: String!\n        $lastname: String!\n        $role: UserRole!\n    ) {\n        signupAdultWithPassword(\n            email: $email\n            password: $password\n            firstname: $firstname\n            lastname: $lastname\n            role: $role\n        ) {\n            user {\n                id\n                kaid\n                canAccessDistrictsHomepage\n                isTeacher\n                hasUnresolvedInvitations\n                transferAuthUrl(pathname: "")\n                preferredKaLocale {\n                    id\n                    kaLocale\n                }\n            }\n            error {\n                code\n            }\n        }\n    }\n']);S=function e(){return r};return r}function L(){var r=N(['\n    mutation signupLearnerWithPasswordMutation(\n        $email: String!\n        $password: String!\n        $firstname: String!\n        $lastname: String!\n        $birthdate: Date!\n    ) {\n        signupLearnerWithPassword(\n            email: $email\n            password: $password\n            firstname: $firstname\n            lastname: $lastname\n            birthdate: $birthdate\n        ) {\n            user {\n                id\n                kaid\n                canAccessDistrictsHomepage\n                isTeacher\n                hasUnresolvedInvitations\n                transferAuthUrl(pathname: "")\n                preferredKaLocale {\n                    id\n                    kaLocale\n                }\n            }\n            error {\n                code\n            }\n        }\n    }\n']);L=function e(){return r};return r}function N(e,r){if(!r){r=e.slice(0)}return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var m={DEFAULT:i18n._("\u00a1Ups! Algo fall\u00f3. Por favor intenta de nuevo."),INVALID_BIRTHDATE:i18n._("Fecha de nacimiento inv\u00e1lida."),INVALID_FIRSTNAME:i18n._("Por favor dinos tu nombre propio."),INVALID_LASTNAME:i18n._("Por favor dinos tu apellido."),INVALID_PASSWORD:i18n._("Lo sentimos, pero esa contrase\u00f1a es muy d\u00e9bil."),INVALID_EMAIL:i18n._("Este correo electr\u00f3nico no parece estar formado correctamente."),EXISTING_EMAIL_DISTRICTS:i18n._("There’s already an account with that email. Select “Back” and choose “Log in to your existing account” instead"),EXISTING_EMAIL:a.createElement(i.default,{link1:function e(r){return a.createElement(s.default,{href:"/login"},r)}},i18n._("Ya hay una cuenta con ese correo electr\u00f3nico. Si es tuyo, <link1>inicia sesi\u00f3n</link1> ahora.")),EXISTING_THIRD_PARTY_EMAIL:a.createElement(i.default,{link1:function e(r){return a.createElement(s.default,{href:"/login"},r)}},i18n._("Ya hay una cuenta con ese correo electr\u00f3nico. Si es tuyo, <link1>inicia sesi\u00f3n</link1> con una cuenta de terceros (Google, Facebook, Apple, etc.).")),EXISTING_USERNAME:i18n._("Ese nombre de usuario no est\u00e1 disponible."),ALREADY_LOGGED_IN:i18n._("Ya est\u00e1s conectado con otra cuenta. Por favor, cierra sesi\u00f3n de esa cuenta e int\u00e9ntalo de nuevo.")};var v=function e(r){switch(r){case"INVALID_FIRSTNAME":return m.INVALID_FIRSTNAME;case"INVALID_LASTNAME":return m.INVALID_LASTNAME;case"INVALID_EMAIL":return m.INVALID_EMAIL;case"EXISTING_EMAIL":return m.EXISTING_EMAIL;case"EXISTING_THIRD_PARTY_EMAIL":return m.EXISTING_THIRD_PARTY_EMAIL;case"ALREADY_LOGGED_IN":return m.ALREADY_LOGGED_IN;case"INTERNAL":case"INVALID_INPUT":case"UNDER_AGE_GATE":default:return m.DEFAULT}};r.getErrorMessageByCode=v;var w=(0,t.default)(L());r.SIGNUP_LEARNER_WITH_PASSWORD_MUTATION=w;var P=(0,t.default)(S());r.SIGNUP_ADULT_WITH_PASSWORD_MUTATION=P;var b=function e(r){var n=r.birthdate,t=r.role,a=r.signupCodes,s=T(r,["birthdate","role","signupCodes"]);var i=!t||t==="learner";var o=i?w:P;var u=i?g({},s,{birthdate:n}):g({},s,{role:(0,I.roleToUserRole)(r.role)});return(0,l.apolloMutate)(o,{variables:u}).then(function(e){var r=i?e.data.signupLearnerWithPassword:e.data.signupAdultWithPassword;if(r&&r.error){throw new c.KAError(r.error.code,c.Errors.Internal)}var n=r&&r.user;if(n){(0,I.setAnalyticsCookies)(true,n.kaid)}if(a&&a.length){return(0,d.joinClassroomsPostlogin)(a).then(function(e){return{user:n,joinClassrooms:e}})}return{user:n}}).catch(function(e){if(e instanceof c.KAError){throw e}throw new c.KAError("Failed to signup with password",c.Errors.Internal)})};r.signupWithPassword=b;var R=(0,t.default)(E());r.SIGNUP_UNDER_AGE_GATE_MUTATION=R;var O=function e(r){var n={INTERNAL:m.DEFAULT,EXISTING_USERNAME:m.EXISTING_USERNAME,INVALID_PASSWORD:m.INVALID_PASSWORD,ALREADY_LOGGED_IN:m.ALREADY_LOGGED_IN,INVALID_BIRTHDATE:m.INVALID_BIRTHDATE,OVER_AGE_GATE:m.DEFAULT,CLASSROOM_NOT_FOUND:i18n._("Invalid class code given."),INVALID_PARENT_EMAIL:i18n._("The parent or guardian's email appears to be invalid.")};return n[r]||m.DEFAULT};r.getSignupUnderAgeGateErrorMessageByCode=O;var M=function(){var n=p(regeneratorRuntime.mark(function e(n){var t,a,s,i,o,u;return regeneratorRuntime.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return(0,l.apolloMutate)(R,{variables:n});case 3:t=r.sent;a=t.data&&t.data.signupUnderAgeGate||{error:null},s=a.error;if(!s){r.next=7;break}throw new c.KAError(s.code,c.Errors.Internal);case 7:i=t.data&&t.data.signupUnderAgeGate&&t.data.signupUnderAgeGate.user;if(!i){r.next=14;break}o=i.studentLists,u=T(i,["studentLists"]);(0,I.setAnalyticsCookies)(true,u.kaid);if(!(o&&o.length)){r.next=13;break}return r.abrupt("return",{user:u,joinClassrooms:{errors:null,studentLists:o}});case 13:return r.abrupt("return",{user:u,joinClassrooms:undefined});case 14:return r.abrupt("return");case 17:r.prev=17;r.t0=r["catch"](0);if(!(r.t0 instanceof c.KAError)){r.next=21;break}throw r.t0;case 21:throw new c.KAError("Failed to signup under age gate user",c.Errors.Internal);case 22:case"end":return r.stop()}}},e,null,[[0,17]])}));return function e(r){return n.apply(this,arguments)}}();r.signupUnderAgeGate=M;var U=(0,t.default)(A());r.SIGNUP_DISTRICTS_WITH_PASSWORD_MUTATION=U;var G=function e(r){var n={INTERNAL:m.DEFAULT,INVALID_FIRSTNAME:m.INVALID_FIRSTNAME,INVALID_LASTNAME:m.INVALID_LASTNAME,INVALID_PASSWORD:m.INVALID_PASSWORD,INVALID_EMAIL:m.INVALID_EMAIL,EXISTING_EMAIL:m.EXISTING_EMAIL_DISTRICTS,EXISTING_THIRD_PARTY_EMAIL:m.EXISTING_EMAIL_DISTRICTS,ALREADY_LOGGED_IN:m.ALREADY_LOGGED_IN};return n[r]||m.DEFAULT};r.getDistrictsWithPasswordErrorMessageByCode=G;var y=function(){var n=p(regeneratorRuntime.mark(function e(n){var t,a,s,i;return regeneratorRuntime.wrap(function e(r){while(1){switch(r.prev=r.next){case 0:r.prev=0;r.next=3;return(0,l.apolloMutate)(U,{variables:g({},n,{role:(0,I.roleToUserRole)(n.role)})});case 3:t=r.sent;a=t.data&&t.data.signupDistrictsWithPassword||{error:null},s=a.error;if(!s){r.next=7;break}throw new c.KAError(s.code,c.Errors.Internal);case 7:i=t.data&&t.data.signupDistrictsWithPassword&&t.data.signupDistrictsWithPassword.user;if(!i){r.next=11;break}(0,I.setAnalyticsCookies)(true,i.kaid);return r.abrupt("return",{user:i,joinClassrooms:undefined});case 11:return r.abrupt("return");case 14:r.prev=14;r.t0=r["catch"](0);if(!(r.t0 instanceof c.KAError)){r.next=18;break}throw r.t0;case 18:throw new c.KAError("Failed to signup Districts user",c.Errors.Internal);case 19:case"end":return r.stop()}}},e,null,[[0,14]])}));return function e(r){return n.apply(this,arguments)}}();r.signupDistrictsWithPassword=y}}]);
//# sourceMappingURL=../../sourcemaps/en/479b924d3ff650665badc5c76dfde34c.356e59216e3c1e5ec8ed.js.map